(function(){"use strict";var e={1253:function(e,t,o){var a=o(5130),s=o(6768);const r={id:"app"};function n(e,t,o,a,n,i){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(l)])}var i={name:"App"},l=o(1241);const c=(0,l.A)(i,[["render",n]]);var d=c,u=o(1387),m=o(4232);const p=e=>((0,s.Qi)("data-v-8e23aa64"),e=e(),(0,s.jt)(),e),A={class:"w-screen h-screen flex items-center"},h={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg"},g={class:"text-center mb-6"},v=["src"],b=p((()=>(0,s.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Login",-1))),f=p((()=>(0,s.Lk)("p",{class:"mb-6"},"Log into your account",-1))),E={key:0,class:"text-red-500 text-center text-sm mb-4"},C={class:"mt-6 flex justify-between items-center"},y={class:"mt-6 text-center"},w={class:"text-sm text-gray-500 mt-4"};function k(e,t,o,r,n,i){const l=(0,s.g2)("SpinnerComp"),c=(0,s.g2)("CustomInput"),d=(0,s.g2)("CustomButton"),u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("section",A,[(0,s.Lk)("div",h,[(0,s.Lk)("header",g,[(0,s.Lk)("img",{src:n.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,v),b,f]),(0,s.bF)(l,{loading:e.loading},null,8,["loading"]),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.handleLoginUser&&i.handleLoginUser(...e)),["prevent"]))},[e.errors.message?((0,s.uX)(),(0,s.CE)("p",E,(0,m.v_)(e.errors.message),1)):(0,s.Q3)("",!0),(0,s.bF)(c,{modelValue:n.form.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.email=e),type:"email",prompt:"Enter your email",error:e.errors.email?e.errors.email.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.password=e),type:"password",prompt:"Enter your password",error:e.errors.password?e.errors.password.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.Lk)("div",C,[(0,s.bF)(d,{type:"primary",onClick:i.handleLoginUser,inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Login ")])),_:1},8,["onClick"])])],32),(0,s.Lk)("div",y,[(0,s.bF)(u,{to:"/request-password-reset",class:"text-sm text-blue-500 hover:text-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Forgot Password? ")])),_:1}),(0,s.Lk)("p",w,[(0,s.eW)(" Don't have an account? "),(0,s.bF)(u,{to:"/register",class:"text-blue-500 hover:text-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Register ")])),_:1})])])])])}o(4114);const R={class:"relative mb-6"},L={class:"relative"},S=["type","value"],I={key:0,class:"mt-2 text-red-600 text-sm"};function x(e,t,o,a,r,n){return(0,s.uX)(),(0,s.CE)("div",R,[(0,s.Lk)("div",L,[(0,s.Lk)("input",(0,s.v6)({ref:"input",type:o.type,value:o.modelValue},e.$attrs,{class:n.inputClasses,onInput:t[0]||(t[0]=e=>n.updateValue(e.target.value)),onFocus:t[1]||(t[1]=e=>r.isFocused=!0),onBlur:t[2]||(t[2]=e=>r.isFocused=!1),placeholder:" "}),null,16,S),(0,s.Lk)("span",{class:(0,m.C4)(n.promptClasses)},(0,m.v_)(o.prompt),3)]),o.error?((0,s.uX)(),(0,s.CE)("p",I,(0,m.v_)(o.error),1)):(0,s.Q3)("",!0)])}var T={name:"CustomInput",props:{type:{type:String,default:"text"},error:{type:String,default:""},prompt:{type:String,default:""},inactiveColor:{type:String,default:"border-gray-500"},activeColor:{type:String,default:"border-blue-500"},modelValue:{type:String,default:""}},data(){return{isFocused:!1}},computed:{inputClasses(){return["block w-full px-4 py-3 rounded border","transition duration-200 ease-in-out",this.isFocused||this.modelValue?this.activeColor:this.inactiveColor]},promptClasses(){return["absolute left-4 transition-all duration-200 ease-in-out","text-gray-500 pointer-events-none",this.isFocused||this.modelValue?"text-xs -top-2 left-4 bg-white px-1":"text-base top-1/2 left-4 transform -translate-y-1/2"]}},methods:{updateValue(e){this.$emit("update:modelValue",e)},focusInput(){this.$refs.input&&this.$refs.input.focus()}}};const _=(0,l.A)(T,[["render",x],["__scopeId","data-v-7341bb7a"]]);var D=_;function O(e,t,o,a,r,n){return(0,s.uX)(),(0,s.CE)("button",{class:(0,m.C4)(n.buttonClasses),onMouseover:t[0]||(t[0]=e=>r.isHovered=!0),onMouseleave:t[1]||(t[1]=e=>r.isHovered=!1)},[(0,s.RG)(e.$slots,"default",{},void 0,!0)],34)}var F={name:"CustomButton",props:{type:{type:String,default:"primary"},inactiveColor:{type:String,default:"bg-blue-500"},activeColor:{type:String,default:"bg-blue-700"},inactiveTextColor:{type:String,default:"text-white"},activeTextColor:{type:String,default:"text-white"}},data(){return{isHovered:!1}},computed:{buttonClasses(){const e="px-4 py-2 rounded-full transition duration-200 ease-in-out";return"primary"===this.type?[e,this.isHovered?this.activeColor:this.inactiveColor,this.inactiveTextColor]:"secondary"===this.type?[e,"bg-transparent border border-blue-500",this.isHovered?"bg-blue-100 text-blue-700":"text-blue-500"]:e}}};const Q=(0,l.A)(F,[["render",O],["__scopeId","data-v-58daa572"]]);var B=Q;const U=e=>((0,s.Qi)("data-v-7c4ecf9e"),e=e(),(0,s.jt)(),e),V={key:0,class:"spinner-overlay"},M=U((()=>(0,s.Lk)("div",{class:"spinner"},null,-1))),P=[M];function N(e,t,o,a,r,n){return o.loading?((0,s.uX)(),(0,s.CE)("div",V,P)):(0,s.Q3)("",!0)}var $={name:"SpinnerComp",props:{loading:{type:Boolean,required:!0}}};const X=(0,l.A)($,[["render",N],["__scopeId","data-v-7c4ecf9e"]]);var G=X,j=o.p+"img/logo.2746769c.png",J=o(782),W={components:{CustomInput:D,CustomButton:B,SpinnerComp:G},data(){return{form:{email:"",password:""},logoSrc:j}},computed:{...(0,J.L8)("global",["loading"]),...(0,J.L8)("user",["errors"]),...(0,J.L8)("collection",["rootId"])},methods:{...(0,J.i0)("user",["loginUser"]),...(0,J.i0)("collection",["fetchRootId"]),async handleLoginUser(){const e=await this.loginUser(this.form);e&&(await this.fetchRootId(),this.$router.push({name:"Collection",params:{id:this.rootId}}))}}};const K=(0,l.A)(W,[["render",k],["__scopeId","data-v-8e23aa64"]]);var z=K;const q=e=>((0,s.Qi)("data-v-fb3f023e"),e=e(),(0,s.jt)(),e),H={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg my-4"},Z={class:"text-center mb-6"},Y=["src"],ee=q((()=>(0,s.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Register",-1))),te=q((()=>(0,s.Lk)("p",{class:"mb-6"},"Create your account",-1))),oe={key:0,class:"text-red-500 text-center text-sm mb-4"},ae={class:"mt-4"},se=q((()=>(0,s.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Avatar (optional)",-1))),re=["src"],ne={class:"mt-6 flex justify-between items-center"},ie={class:"mt-2 text-center"},le={class:"text-sm text-gray-500 mt-4"};function ce(e,t,o,r,n,i){const l=(0,s.g2)("SpinnerComp"),c=(0,s.g2)("CustomInput"),d=(0,s.g2)("CustomButton"),u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",H,[(0,s.bF)(l,{loading:e.loading},null,8,["loading"]),(0,s.Lk)("header",Z,[(0,s.Lk)("img",{src:n.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,Y),ee,te]),(0,s.Lk)("form",{onSubmit:t[8]||(t[8]=(0,a.D$)(((...e)=>i.handleRegisterUser&&i.handleRegisterUser(...e)),["prevent"]))},[e.errors.message?((0,s.uX)(),(0,s.CE)("p",oe,(0,m.v_)(e.errors.message),1)):(0,s.Q3)("",!0),(0,s.bF)(c,{modelValue:n.form.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.first_name=e),type:"text",prompt:"First Name",error:e.errors.first_name?e.errors.first_name.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.middle_name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.middle_name=e),type:"text",prompt:"Middle Name (optional)",error:e.errors.middle_name?e.errors.middle_name.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>n.form.last_name=e),type:"text",prompt:"Last Name",error:e.errors.last_name?e.errors.last_name.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.email,"onUpdate:modelValue":t[3]||(t[3]=e=>n.form.email=e),type:"email",prompt:"Email",error:e.errors.email?e.errors.email.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.form.phone=e),type:"text",prompt:"Phone Number",error:e.errors.phone?e.errors.phone.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.password,"onUpdate:modelValue":t[5]||(t[5]=e=>n.form.password=e),type:"password",prompt:"Password",error:e.errors.password?e.errors.password.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.password_confirmation,"onUpdate:modelValue":t[6]||(t[6]=e=>n.form.password_confirmation=e),type:"password",prompt:"Confirm Password",error:e.errors.password_confirmation?e.errors.password_confirmation.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.Lk)("div",ae,[se,(0,s.Lk)("input",{type:"file",onChange:t[7]||(t[7]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e)),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border file:border-gray-300 file:text-sm file:font-semibold hover:file:bg-gray-100"},null,32),n.avatarPreview?((0,s.uX)(),(0,s.CE)("img",{key:0,src:n.avatarPreview,alt:"Avatar Preview",class:"mt-2 w-32 h-32 object-cover rounded-full"},null,8,re)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ne,[(0,s.bF)(d,{type:"primary",inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Register ")])),_:1})])],32),(0,s.Lk)("div",ie,[(0,s.Lk)("p",le,[(0,s.eW)(" Already have an account? "),(0,s.bF)(u,{to:"/login",class:"text-blue-500 hover:text-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Login ")])),_:1})])])])}var de={components:{CustomInput:D,CustomButton:B,SpinnerComp:G},data(){return{form:{first_name:"",middle_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone:"",avatar:null},avatarPreview:null,logoSrc:j}},computed:{...(0,J.L8)("user",["errors"]),...(0,J.L8)("global",["loading"])},methods:{...(0,J.i0)("user",["registerUser"]),handleFileUpload(e){const t=e.target.files[0];if(t){this.form.avatar=t;const e=new FileReader;e.onload=e=>{this.avatarPreview=e.target.result},e.readAsDataURL(t)}else this.form.avatar=null,this.avatarPreview=null},async handleRegisterUser(){const e=new FormData;Object.keys(this.form).forEach((t=>{("avatar"!==t||"avatar"===t&&this.form[t])&&e.append(t,this.form[t])}));const t=await this.registerUser(e);t&&this.$router.push({name:"Login"})}}};const ue=(0,l.A)(de,[["render",ce],["__scopeId","data-v-fb3f023e"]]);var me=ue;const pe={class:"w-screen h-screen flex items-center justify-center"},Ae={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg"},he={class:"text-center mb-6"},ge=["src"],ve=(0,s.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Request Password Reset",-1),be=(0,s.Lk)("p",{class:"mb-6"},"Enter your email to request a password reset link",-1),fe={key:0,class:"text-red-500 text-center text-sm mb-4"},Ee={class:"mt-6 flex justify-center"},Ce={class:"mt-6 text-center"};function ye(e,t,o,r,n,i){const l=(0,s.g2)("SpinnerComp"),c=(0,s.g2)("CustomInput"),d=(0,s.g2)("CustomButton"),u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("section",pe,[(0,s.Lk)("div",Ae,[(0,s.Lk)("header",he,[(0,s.Lk)("img",{src:n.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,ge),ve,be]),(0,s.bF)(l,{loading:e.loading},null,8,["loading"]),(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.handleRequestPasswordReset&&i.handleRequestPasswordReset(...e)),["prevent"]))},[e.errors.message?((0,s.uX)(),(0,s.CE)("p",fe,(0,m.v_)(e.errors.message),1)):(0,s.Q3)("",!0),(0,s.bF)(c,{modelValue:n.form.email,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.email=e),type:"email",prompt:"Enter your email",error:e.errors.email?e.errors.email.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.Lk)("div",Ee,[(0,s.bF)(d,{type:"primary",inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Send Password Reset Link ")])),_:1})])],32),(0,s.Lk)("div",Ce,[(0,s.bF)(u,{to:"/login",class:"text-sm text-blue-500 hover:text-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Login ")])),_:1})])])])}var we={components:{CustomInput:D,CustomButton:B,SpinnerComp:G},computed:{...(0,J.L8)("user",["errors"]),...(0,J.L8)("global",["loading"])},data(){return{form:{email:""},logoSrc:j}},methods:{...(0,J.i0)("user",["requestPasswordReset"]),async handleRequestPasswordReset(){const e=await this.requestPasswordReset(this.form.email);e&&this.$router.push({name:"Login"})}}};const ke=(0,l.A)(we,[["render",ye]]);var Re=ke;const Le={class:"w-screen h-screen flex items-center justify-center"},Se={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg"},Ie={class:"text-center mb-6"},xe=["src"],Te=(0,s.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Reset Your Password",-1),_e=(0,s.Lk)("p",{class:"mb-6"},"Enter your new password below",-1),De={key:0,class:"text-red-500 text-center text-sm mb-4"},Oe={class:"mt-6 flex justify-center"},Fe={class:"mt-6 text-center"};function Qe(e,t,o,r,n,i){const l=(0,s.g2)("SpinnerComp"),c=(0,s.g2)("CustomInput"),d=(0,s.g2)("CustomButton"),u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("section",Le,[(0,s.Lk)("div",Se,[(0,s.Lk)("header",Ie,[(0,s.Lk)("img",{src:n.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,xe),Te,_e]),(0,s.bF)(l,{loading:e.loading},null,8,["loading"]),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.handleResetPassword&&i.handleResetPassword(...e)),["prevent"]))},[e.errors.message?((0,s.uX)(),(0,s.CE)("p",De,(0,m.v_)(e.errors.message),1)):(0,s.Q3)("",!0),(0,s.bF)(c,{modelValue:n.form.password,"onUpdate:modelValue":t[0]||(t[0]=e=>n.form.password=e),type:"password",prompt:"New Password",error:e.errors.password?e.errors.password.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.form.password_confirmation,"onUpdate:modelValue":t[1]||(t[1]=e=>n.form.password_confirmation=e),type:"password",prompt:"Confirm Password",error:e.errors.password_confirmation?e.errors.password_confirmation.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,s.Lk)("div",Oe,[(0,s.bF)(d,{type:"primary",inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Reset Password ")])),_:1})])],32),(0,s.Lk)("div",Fe,[(0,s.bF)(u,{to:"/login",class:"text-sm text-blue-500 hover:text-blue-700"},{default:(0,s.k6)((()=>[(0,s.eW)(" Login ")])),_:1})])])])}o(4603),o(7566),o(8721);var Be={components:{CustomInput:D,CustomButton:B,SpinnerComp:G},computed:{...(0,J.L8)("user",["errors"]),...(0,J.L8)("global",["loading"])},data(){return{form:{password:"",password_confirmation:""},logoSrc:j}},methods:{...(0,J.i0)("user",["resetPassword"]),async handleResetPassword(){this.loading=!0,this.errors={};const e=new URLSearchParams(window.location.search),t=e.get("token"),o=e.get("email"),a={email:o,token:t,password:this.form.password,password_confirmation:this.form.password_confirmation},s=await this.resetPassword(a);s&&this.$router.push({name:"Login"})}}};const Ue=(0,l.A)(Be,[["render",Qe]]);var Ve=Ue;const Me={id:"dashboard"},Pe={class:"content"};function Ne(e,t,o,a,r,n){const i=(0,s.g2)("HeaderComponent"),l=(0,s.g2)("SidebarComponent"),c=(0,s.g2)("router-view"),d=(0,s.g2)("DocumentCreationModal"),u=(0,s.g2)("CreateCollectionModal"),m=(0,s.g2)("EventCreationModal"),p=(0,s.g2)("EventOutcomeModal"),A=(0,s.g2)("TagCreationModal"),h=(0,s.g2)("RoleCreationModal"),g=(0,s.g2)("SpinnerComp");return(0,s.uX)(),(0,s.CE)("div",Me,[(0,s.bF)(i,{onToggleSidebar:n.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Lk)("div",Pe,[(0,s.bF)(l,{"menu-items":r.menuItems,"is-overlay":r.isMobileOverlayVisible,onCloseOverlay:n.closeOverlay,onCreateDocument:n.openDocumentCreationModal,onCreateCollection:n.openCollectionCreationModal,onCreateEvent:n.openEventCreationModal,onCreateEventOutcome:n.openEventOutcomeModal,onCreateTag:t[0]||(t[0]=e=>{r.showTagModal=!0}),onCreateRole:t[1]||(t[1]=e=>{r.showRoleModal=!0})},null,8,["menu-items","is-overlay","onCloseOverlay","onCreateDocument","onCreateCollection","onCreateEvent","onCreateEventOutcome"]),(0,s.Lk)("main",null,[(0,s.bF)(c)])]),(0,s.bF)(d,{"is-visible":r.showDocumentCreationModal,onClose:n.closeDocumentCreationModal,onCreate:n.addDocument},null,8,["is-visible","onClose","onCreate"]),(0,s.bF)(u,{"is-visible":r.showCollectionCreationModal,onClose:n.closeCollectionCreationModal,onCreate:n.addCollection},null,8,["is-visible","onClose","onCreate"]),(0,s.bF)(m,{"is-visible":r.showEventCreationModal,onClose:n.closeEventCreationModal},null,8,["is-visible","onClose"]),(0,s.bF)(p,{"is-visible":r.showEventOutcomeModal,onClose:n.closeEventOutcomeModal},null,8,["is-visible","onClose"]),(0,s.bF)(A,{"is-visible":r.showTagModal,onClose:t[2]||(t[2]=e=>{r.showTagModal=!1})},null,8,["is-visible"]),(0,s.bF)(h,{"is-visible":r.showRoleModal,onClose:t[3]||(t[3]=e=>{r.showRoleModal=!1})},null,8,["is-visible"]),(0,s.bF)(g,{loading:e.loading},null,8,["loading"])])}const $e=e=>((0,s.Qi)("data-v-d84755c0"),e=e(),(0,s.jt)(),e),Xe={class:"header"},Ge=$e((()=>(0,s.Lk)("img",{src:j,class:"h-8"},null,-1))),je={key:0,class:"actions-area"};function Je(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon"),l=(0,s.g2)("SearchComponent");return(0,s.uX)(),(0,s.CE)("header",Xe,[(0,s.Lk)("div",{class:(0,m.C4)(["logo-and-hamburger",{hidden:r.isMobileSearchVisible}])},[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.toggleSidebar&&n.toggleSidebar(...e)),class:"mr-4"},[(0,s.bF)(i,{icon:["fas","bars"],class:"w-5 h-5"})]),Ge],2),(0,s.Lk)("div",{class:(0,m.C4)({"hidden md:flex-1 md:mx-4":!r.isMobileSearchVisible&&!r.isMediumUp,"search-container":r.isMobileSearchVisible||r.isMediumUp})},[r.isMobileSearchVisible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>n.hideSearch&&n.hideSearch(...e)),class:"text-white md:hidden mr-2"},[(0,s.bF)(i,{icon:["fas","arrow-left"],class:"w-5 h-5"})])):(0,s.Q3)("",!0),(0,s.bF)(l,{class:"search-bar",items:["A","B","C"],label:"for collection or document"})],2),!r.isMobileSearchVisible||r.isMediumUp?((0,s.uX)(),(0,s.CE)("div",je,[r.isMobileSearchVisible||r.isMediumUp?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>n.showSearch&&n.showSearch(...e)),class:"md:hidden"},[(0,s.bF)(i,{icon:["fas","search"],class:"w-5 h-5"})])),(0,s.Lk)("button",{class:"flex items-center",onClick:t[3]||(t[3]=(...e)=>n.handleLogout&&n.handleLogout(...e))},[(0,s.bF)(i,{icon:["fas","power-off"],class:"w-5 h-5 mr-2"}),(0,s.eW)(" Logout ")])])):(0,s.Q3)("",!0)])}var We=o(292);const Ke={class:"search-container relative"},ze=["placeholder"];function qe(e,t,o,r,n,i){const l=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Ke,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.query=e),onKeydown:t[1]||(t[1]=(0,a.jR)(((...t)=>e.emitSearch&&e.emitSearch(...t)),["enter"])),placeholder:`Search ${o.label}...`,class:"search-input w-full pl-4 pr-10 py-2 border border-gray-300 rounded-md"},null,40,ze),[[a.Jo,n.query]]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.performSearch&&i.performSearch(...e)),class:"search-icon absolute right-3 top-1/2 transform -translate-y-1/2"},[(0,s.bF)(l,{icon:["fas","search"],class:"w-5 h-5 text-gray-500"})]),n.query?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>i.clearQuery&&i.clearQuery(...e)),class:"search-clear absolute right-10 top-1/2 transform -translate-y-1/2"},[(0,s.bF)(l,{icon:["fas","times"],class:"w-5 h-5 text-gray-500"})])):(0,s.Q3)("",!0)])}var He={name:"SearchComponent",props:{label:String,value:String},data(){return{query:this.value}},computed:{...(0,J.L8)("collection",["rootId"])},watch:{value(e){this.query=e}},async mounted(){this.rootId||await this.fetchRootId()},methods:{...(0,J.i0)("collection",["fetchRootId","fetchCollectionById","fetchRootCollection"]),...(0,J.i0)("event",["fetchEvents"]),...(0,J.i0)("tag",["fetchTags"]),async performSearch(){if(this.query.trim())if("Collection"===this.$route.name){const e=this.$route.params.id;e==this.rootId?await this.fetchRootCollection({tag:"",search:this.query}):e&&await this.fetchCollectionById({collectionId:e,tag:"",search:this.query})}else"Event"===this.$route.name?await this.fetchEvents({tag:"",search:this.query}):"Tag"===this.$route.name&&(console.log("tag route"),await this.fetchTags({name:this.query}))},clearQuery(){this.query="",this.performSearch()}}};const Ze=(0,l.A)(He,[["render",qe],["__scopeId","data-v-2ff5ca6d"]]);var Ye=Ze,et={name:"HeaderComponent",components:{FontAwesomeIcon:We.gc,SearchComponent:Ye},data(){return{isMobileSearchVisible:!1,isMediumUp:window.innerWidth>=768}},methods:{...(0,J.i0)("user",["logoutUser"]),toggleSidebar(){this.$emit("toggle-sidebar")},showSearch(){this.isMobileSearchVisible=!0},hideSearch(){this.isMobileSearchVisible=!1},handleResize(){this.isMediumUp=window.innerWidth>=768,this.isMediumUp&&this.hideSearch()},async handleLogout(){const e=this.logoutUser();e&&this.$router.push({name:"Login"})}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const tt=(0,l.A)(et,[["render",Je],["__scopeId","data-v-d84755c0"]]);var ot=tt;const at={class:"menu"},st=["onClick"],rt={key:0,class:"label"},nt={class:"action-buttons"},it={key:0},lt={key:0},ct={key:0},dt={key:0},ut={key:0},mt={key:0};function pt(e,t,o,r,n,i){const l=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("aside",{class:(0,m.C4)(i.sidebarClass),onClick:t[6]||(t[6]=(0,a.D$)(((...e)=>i.closeOverlay&&i.closeOverlay(...e)),["self"]))},[(0,s.Lk)("ul",at,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.menuItems,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:"menu-item cursor-pointer",onClick:t=>i.navigateTo(e.route)},[(0,s.bF)(l,{icon:["fas",e.icon],class:"icon"},null,8,["icon"]),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",rt,(0,m.v_)(e.label),1)):(0,s.Q3)("",!0)],8,st)))),128))]),(0,s.Lk)("div",nt,[i.isCollectionRoute?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.handleCreateDocument&&i.handleCreateDocument(...e)),class:"action-button"},[(0,s.bF)(l,{icon:"plus",class:"mr-4"}),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",it,"Upload Document")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),i.isCollectionRoute?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>i.handleCreateCollection&&i.handleCreateCollection(...e)),class:"action-button"},[(0,s.bF)(l,{icon:"folder-plus",class:"mr-4"}),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",lt,"Create Collection")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),i.isEventRoute?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[2]||(t[2]=(...e)=>i.handleCreateEvent&&i.handleCreateEvent(...e)),class:"action-button"},[(0,s.bF)(l,{icon:"list-alt",class:"mr-4"}),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",ct,"Create Event")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),i.isEventDetailRoute?((0,s.uX)(),(0,s.CE)("button",{key:3,onClick:t[3]||(t[3]=(...e)=>i.handleCreateEventOutcome&&i.handleCreateEventOutcome(...e)),class:"action-button"},[(0,s.bF)(l,{icon:"plus",class:"mr-4"}),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",dt,"Add Event Outcome")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),i.isTagRoute?((0,s.uX)(),(0,s.CE)("button",{key:4,onClick:t[4]||(t[4]=t=>e.$emit("create-tag")),class:"action-button"},[(0,s.bF)(l,{icon:"plus",class:"mr-4"}),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",ut,"Add Tag")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),i.isRoleRoute?((0,s.uX)(),(0,s.CE)("button",{key:5,onClick:t[5]||(t[5]=t=>e.$emit("create-role")),class:"action-button"},[(0,s.bF)(l,{icon:"plus",class:"mr-4"}),!n.isCollapsed||n.isTablet?((0,s.uX)(),(0,s.CE)("span",mt,"Add Role")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])],2)}var At={name:"SidebarComponent",components:{FontAwesomeIcon:We.gc},props:{menuItems:{type:Array,required:!0},isOverlay:{type:Boolean,default:!1}},data(){return{isCollapsed:!1,isTablet:window.innerWidth>=768&&window.innerWidth<1024}},computed:{...(0,J.L8)("collection",["rootId"]),sidebarClass(){return{sidebar:!0,collapsed:this.isCollapsed,tablet:this.isTablet,overlay:this.isOverlay}},isCollectionRoute(){return"Collection"===this.$route.name},isEventRoute(){return"Event"===this.$route.name},isEventDetailRoute(){return"EventDetail"===this.$route.name},isTagRoute(){return"Tag"===this.$route.name},isRoleRoute(){return"Role"===this.$route.name}},methods:{...(0,J.i0)("collection",["fetchRootId"]),closeOverlay(){this.isOverlay&&this.$emit("close-overlay")},handleResize(){this.isTablet=window.innerWidth>=768&&window.innerWidth<1024,window.innerWidth>=1024&&(this.isCollapsed=!1)},handleCreateDocument(){this.$emit("create-document")},handleCreateCollection(){this.$emit("create-collection")},handleCreateEvent(){this.$emit("create-event")},handleCreateEventOutcome(){this.$emit("create-event-outcome")},async navigateTo(e){"Collection"===e?(this.rootId||await this.fetchRootId(),this.$router.push({name:e,params:{id:this.rootId}})):this.$router.push({name:e})}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const ht=(0,l.A)(At,[["render",pt],["__scopeId","data-v-22c96fb8"]]);var gt=ht;const vt={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function bt(e,t,o,r,n,i){const l=(0,s.g2)("CustomInput"),c=(0,s.g2)("CustomText"),d=(0,s.g2)("CustomTagSelector"),u=(0,s.g2)("CustomFileInput"),p=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(p,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[(0,s.Lk)("h3",vt,(0,m.v_)(o.isEditing?"Edit Document":"Create Document"),1)])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>i.submitDocument&&i.submitDocument(...e)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.documentData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.documentData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.documentData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.documentData.description=e),prompt:"Description (optional)",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(d,{value:n.documentData.tag_ids,onTagChange:i.handleTagChange,class:"mb-2"},null,8,["value","onTagChange"]),o.isEditing?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(u,{key:0,value:n.documentData.file,onInput:t[2]||(t[2]=e=>n.documentData.file=e),label:"Upload Document",error:e.errors.file?e.errors.file.join(" "):"",required:""},null,8,["value","error"]))],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.submitDocument&&i.submitDocument(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(o.isEditing?"Update Document":"Create Document"),1)])),_:1},8,["isVisible","onClose"])}const ft={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75"},Et={class:"relative bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:max-w-lg max-h-screen overflow-y-auto"},Ct={class:"px-4 py-5 sm:p-6"};function yt(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon");return o.isVisible?((0,s.uX)(),(0,s.CE)("div",ft,[(0,s.Lk)("div",Et,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e)),class:"absolute top-2 right-2 text-gray-400 hover:text-gray-600"},[(0,s.bF)(i,{icon:"xmark"})]),(0,s.Lk)("div",Ct,[(0,s.RG)(e.$slots,"header"),(0,s.RG)(e.$slots,"body"),(0,s.RG)(e.$slots,"footer")])])])):(0,s.Q3)("",!0)}var wt={components:{FontAwesomeIcon:We.gc},props:{isVisible:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}};const kt=(0,l.A)(wt,[["render",yt]]);var Rt=kt;const Lt={class:"relative mb-6"},St={class:"relative"},It=["value"],xt={key:0,class:"mt-2 text-red-600 text-sm"};function Tt(e,t,o,a,r,n){return(0,s.uX)(),(0,s.CE)("div",Lt,[(0,s.Lk)("div",St,[(0,s.Lk)("textarea",(0,s.v6)({ref:"textarea",value:o.modelValue},e.$attrs,{class:n.inputClasses,onInput:t[0]||(t[0]=e=>n.updateValue(e.target.value)),onFocus:t[1]||(t[1]=e=>r.isFocused=!0),onBlur:t[2]||(t[2]=e=>r.isFocused=!1),placeholder:" "}),null,16,It),(0,s.Lk)("span",{class:(0,m.C4)(n.promptClasses)},(0,m.v_)(o.prompt),3)]),o.error?((0,s.uX)(),(0,s.CE)("p",xt,(0,m.v_)(o.error),1)):(0,s.Q3)("",!0)])}var _t={name:"CustomText",props:{error:{type:String,default:""},prompt:{type:String,default:""},inactiveColor:{type:String,default:"border-gray-500"},activeColor:{type:String,default:"border-blue-500"},modelValue:{type:String,default:""}},data(){return{isFocused:!1}},computed:{inputClasses(){return["block w-full px-4 py-3 rounded border resize-none","transition duration-200 ease-in-out",this.isFocused||this.modelValue?this.activeColor:this.inactiveColor]},promptClasses(){return["absolute left-4 transition-all duration-200 ease-in-out","text-gray-500 pointer-events-none",this.isFocused||this.modelValue?"text-xs -top-2 left-4 bg-white px-1":"text-base top-1/2 left-4 transform -translate-y-1/2"]}},methods:{updateValue(e){this.$emit("update:modelValue",e)},focusInput(){this.$refs.textarea&&this.$refs.textarea.focus()}}};const Dt=(0,l.A)(_t,[["render",Tt],["__scopeId","data-v-b9bfcbae"]]);var Ot=Dt;const Ft=e=>((0,s.Qi)("data-v-2e0120f3"),e=e(),(0,s.jt)(),e),Qt={class:"relative"},Bt=["for"],Ut=["id","accept"],Vt={key:0,class:"mt-2 relative"},Mt=Ft((()=>(0,s.Lk)("p",{class:"text-sm font-medium text-gray-900"},"Preview:",-1))),Pt={key:0,class:"mt-2 preview-container"},Nt=["src"],$t={key:1},Xt={class:"text-sm text-gray-600"},Gt={key:1,class:"mt-2 text-red-600 text-sm"};function jt(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Qt,[(0,s.Lk)("label",{for:o.id,class:"block text-sm font-medium text-gray-700"},(0,m.v_)(o.label),9,Bt),(0,s.Lk)("input",{ref:"fileInput",type:"file",id:o.id,accept:o.accept,onChange:t[0]||(t[0]=(...e)=>n.handleFileChange&&n.handleFileChange(...e)),class:"mt-1 block w-full text-sm text-gray-900 border border-gray-300 rounded-md"},null,40,Ut),r.file?((0,s.uX)(),(0,s.CE)("div",Vt,[Mt,n.isImage?((0,s.uX)(),(0,s.CE)("div",Pt,[(0,s.Lk)("img",{src:r.filePreview,alt:"File Preview",class:"preview-image"},null,8,Nt),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.resetFile&&n.resetFile(...e)),class:"absolute top-0 right-0 text-red-500 hover:text-red-700"},[(0,s.bF)(i,{icon:"xmark"})])])):((0,s.uX)(),(0,s.CE)("div",$t,[(0,s.Lk)("p",Xt,"File selected: "+(0,m.v_)(r.file.name),1),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.resetFile&&n.resetFile(...e)),class:"absolute top-0 right-0 text-red-500 hover:text-red-700"},[(0,s.bF)(i,{icon:"xmark"})])]))])):(0,s.Q3)("",!0),o.error?((0,s.uX)(),(0,s.CE)("p",Gt,(0,m.v_)(o.error),1)):(0,s.Q3)("",!0)])}var Jt={components:{FontAwesomeIcon:We.gc},props:{value:{type:File,default:null},label:{type:String,default:"Upload File"},id:{type:String,default:"file-input"},accept:{type:String,default:"*/*"},error:{type:String,default:""}},data(){return{file:this.value,filePreview:null}},computed:{isImage(){return this.file&&this.file.type.startsWith("image/")}},methods:{handleFileChange(e){const t=e.target.files[0];t?(this.file=t,this.filePreview=this.isImage?URL.createObjectURL(t):null,this.$emit("input",t),this.$emit("new-file",t)):this.resetFile()},resetFile(){this.file=null,this.filePreview=null,this.$refs.fileInput.value="",this.$emit("input",null)}},watch:{value(e){this.file=e,this.filePreview=e&&e.type.startsWith("image/")?URL.createObjectURL(e):null}}};const Wt=(0,l.A)(Jt,[["render",jt],["__scopeId","data-v-2e0120f3"]]);var Kt=Wt;const zt={class:"w-full"},qt=(0,s.Lk)("option",{value:"",disabled:""},"Select a tag",-1),Ht=["value"],Zt={class:"flex flex-wrap gap-2 mt-2"},Yt=["onClick"];function eo(e,t,o,r,n,i){return(0,s.uX)(),(0,s.CE)("div",zt,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTagId=e),onChange:t[1]||(t[1]=(...e)=>i.addTag&&i.addTag(...e)),class:"w-full p-2 border border-gray-300 rounded-md mb-2"},[qt,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.availableTags,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e?.id,value:e?.id},(0,m.v_)(e?.name),9,Ht)))),128))],544),[[a.u1,n.selectedTagId]]),(0,s.Lk)("div",Zt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.selectedTags,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e?.id,class:"px-2 py-1 bg-gray-700 text-white rounded-full shadow cursor-pointer hover:bg-blue-200",onClick:t=>i.removeTag(e)},(0,m.v_)(e?.name),9,Yt)))),128))])])}var to={props:{value:{type:Array,default:()=>[]}},data(){return{selectedTagId:""}},computed:{...(0,J.L8)("tag",["tags"]),availableTags(){return(this.tags||[]).filter((e=>e&&!this.value?.includes(e.id)))||[]},selectedTags(){return(this.value||[]).map((e=>(this.tags||[]).find((t=>t?.id===e)))).filter((e=>e))}},methods:{...(0,J.i0)("tag",["fetchTags"]),addTag(){this.selectedTagId&&!this.value?.includes(this.selectedTagId)&&(this.$emit("tag-change",[...this.value,this.selectedTagId]),this.selectedTagId="")},removeTag(e){this.$emit("tag-change",(this.value||[]).filter((t=>t!==e?.id)))}},created(){this.fetchTags({name:""})}};const oo=(0,l.A)(to,[["render",eo]]);var ao=oo,so={components:{ModalLayout:Rt,CustomInput:D,CustomText:Ot,CustomFileInput:Kt,CustomTagSelector:ao},props:{isVisible:{type:Boolean,default:!1},document:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!1}},data(){return{documentData:{name:this.document.name||"",description:this.document.description||"",file:null,tag_ids:[]}}},computed:{...(0,J.L8)("collection",["errors"])},methods:{...(0,J.i0)("collection",["createDocument","updateDocument","setErrors"]),submitDocument(){this.isEditing?this.updateDocument({...this.documentData,id:this.document.id}):this.createDocument(this.documentData)},handleTagChange(e){this.documentData.tag_ids=e},close(){const e={};this.setErrors(e),this.$emit("close")}},watch:{document(e){this.isEditing&&(this.documentData={name:e.name||"",description:e.description||"",file:null,tag_ids:e.tags?e.tags.map((e=>e.id)):[]})}}};const ro=(0,l.A)(so,[["render",bt]]);var no=ro;const io=(0,s.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Create Collection ",-1);function lo(e,t,o,r,n,i){const l=(0,s.g2)("CustomInput"),c=(0,s.g2)("CustomText"),d=(0,s.g2)("CustomTagSelector"),u=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(u,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[io])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...t)=>e.createCollection&&e.createCollection(...t)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.collectionData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.collectionData.name=e),prompt:"Collection Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.collectionData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.collectionData.description=e),prompt:"Description (optional)",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(d,{value:n.collectionData.tag_ids,onTagChange:i.handleTagChange,class:"mb-2"},null,8,["value","onTagChange"])],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[3]||(t[3]=t=>e.createCollection(n.collectionData)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Create Collection ")])),_:1},8,["isVisible","onClose"])}var co={components:{ModalLayout:Rt,CustomInput:D,CustomText:Ot,CustomTagSelector:ao},props:{isVisible:{type:Boolean,default:!1}},data(){return{collectionData:{name:"",description:"",tag_ids:[]}}},computed:{...(0,J.L8)("collection",["errors"])},methods:{...(0,J.i0)("collection",["createCollection","setErrors"]),handleTagChange(e){this.collectionData.tag_ids=e},close(){const e={};this.setErrors(e),this.$emit("close")}}};const uo=(0,l.A)(co,[["render",lo]]);var mo=uo;const po={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function Ao(e,t,o,r,n,i){const l=(0,s.g2)("CustomInput"),c=(0,s.g2)("CustomText"),d=(0,s.g2)("CustomTagSelector"),u=(0,s.g2)("CustomFileInput"),p=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(p,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[(0,s.Lk)("h3",po,(0,m.v_)(i.isEditing?"Edit Event":"Create Event"),1)])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>i.submitEvent&&i.submitEvent(...e)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.eventData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.eventData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.eventData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.eventData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(l,{modelValue:n.eventData.location,"onUpdate:modelValue":t[2]||(t[2]=e=>n.eventData.location=e),prompt:"Location",error:e.errors.location?e.errors.location.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(l,{modelValue:n.eventData.start,"onUpdate:modelValue":t[3]||(t[3]=e=>n.eventData.start=e),prompt:"Start Date",type:"date",error:e.errors.start?e.errors.start.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(l,{modelValue:n.eventData.end,"onUpdate:modelValue":t[4]||(t[4]=e=>n.eventData.end=e),prompt:"End Date",type:"date",error:e.errors.end?e.errors.end.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(d,{value:n.eventData.tag_ids,onTagChange:i.handleTagChange,class:"mb-2"},null,8,["value","onTagChange"]),i.isEditing?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(u,{key:0,value:n.eventData.poster,onInput:t[5]||(t[5]=e=>n.eventData.poster=e),label:"Upload Event Poster",error:e.errors.poster?e.errors.poster.join(" "):"",required:""},null,8,["value","error"]))],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>i.submitEvent&&i.submitEvent(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(i.isEditing?"Update Event":"Create Event"),1)])),_:1},8,["isVisible","onClose"])}var ho={components:{ModalLayout:Rt,CustomInput:D,CustomText:Ot,CustomFileInput:Kt,CustomTagSelector:ao},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{eventData:{name:"",description:"",location:"",start:"",end:"",tag_ids:[],poster:null}}},computed:{...(0,J.L8)("event",["errors","activeEvent"]),isEditing(){return!!this.id}},methods:{...(0,J.i0)("event",["fetchEventById","createEvent","updateEvent","setErrors"]),async submitEvent(){try{let e=new FormData;e.append("name",this.eventData.name),e.append("description",this.eventData.description),e.append("location",this.eventData.location),e.append("start",this.eventData.start),e.append("end",this.eventData.end),!this.isEditing&&this.eventData.poster&&e.append("poster",this.eventData.poster),this.eventData.tag_ids.forEach((t=>{e.append("tag_ids[]",t)})),this.isEditing?await this.updateEvent({id:this.id,formData:e}):await this.createEvent(e),0===Object.keys(this.errors).length&&(this.isEditing||this.resetForm(),alert("Event has been successfully saved!"))}catch(e){console.error("Error saving event:",e)}},handleTagChange(e){this.eventData.tag_ids=e},resetForm(){this.eventData={name:"",description:"",location:"",start:"",end:"",tag_ids:[],poster:null}},close(){this.setErrors({}),this.$emit("close")}},mounted(){this.isEditing&&this.id&&this.fetchEventById(this.id).then((()=>{const e=this.activeEvent;this.eventData={name:e.name||"",description:e.description||"",location:e.location||"",start:e.start?new Date(e.start).toISOString().split("T")[0]:"",end:e.end?new Date(e.end).toISOString().split("T")[0]:"",tag_ids:e.tags?e.tags.map((e=>e.id)):[],poster:null}}))},watch:{id(e){this.isEditing&&e?this.fetchEventById(e).then((()=>{const e=this.activeEvent;this.eventData={name:e.name||"",description:e.description||"",location:e.location||"",start:e.start?new Date(e.start).toISOString().split("T")[0]:"",end:e.end?new Date(e.end).toISOString().split("T")[0]:"",tag_ids:e.tags?e.tags.map((e=>e.id)):[],poster:null}})):this.resetForm()}}};const go=(0,l.A)(ho,[["render",Ao]]);var vo=go;const bo={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function fo(e,t,o,r,n,i){const l=(0,s.g2)("CustomText"),c=(0,s.g2)("CustomInput"),d=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(d,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[(0,s.Lk)("h3",bo,(0,m.v_)(i.isEditing?"Edit Event Outcome":"Create Event Outcome"),1)])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.submitEventOutcome&&i.submitEventOutcome(...e)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.eventOutcomeData.description,"onUpdate:modelValue":t[0]||(t[0]=e=>n.eventOutcomeData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(c,{modelValue:n.eventOutcomeData.date,"onUpdate:modelValue":t[1]||(t[1]=e=>n.eventOutcomeData.date=e),prompt:"Date",type:"date",error:e.errors.date?e.errors.date.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.submitEventOutcome&&i.submitEventOutcome(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(i.isEditing?"Update Event Outcome":"Create Event Outcome"),1)])),_:1},8,["isVisible","onClose"])}var Eo={components:{ModalLayout:Rt,CustomInput:D,CustomText:Ot},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{eventOutcomeData:{description:"",date:""}}},computed:{...(0,J.L8)("eventOutcome",["errors"]),...(0,J.L8)("event",["activeEvent"]),eventId(){return this.activeEvent?.id||null},isEditing(){return!!this.id}},methods:{...(0,J.i0)("eventOutcome",["createEventOutcome","updateEventOutcome","setErrors"]),async submitEventOutcome(){try{const e={eventId:this.eventId,outcomeData:this.eventOutcomeData};this.isEditing?(e.outcomeId=this.id,await this.updateEventOutcome(e)):await this.createEventOutcome(e),0===Object.keys(this.errors).length&&(this.isEditing||this.resetForm(),alert("Event outcome has been successfully saved!"))}catch(e){console.error("Error saving event outcome:",e)}},resetForm(){this.eventOutcomeData={description:"",date:""}},close(){this.setErrors({}),this.$emit("close")}},mounted(){if(this.isEditing&&this.id){const e=this.activeEvent.outcomes.find((e=>e.id===this.id));this.eventOutcomeData={description:e?.description||"",date:e?.date||""}}},watch:{id(e){const t=this.activeEvent.outcomes.find((t=>t.id===e));this.eventOutcomeData={description:t?.description||"",date:t?.date||""}}}};const Co=(0,l.A)(Eo,[["render",fo]]);var yo=Co;const wo={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function ko(e,t,o,r,n,i){const l=(0,s.g2)("CustomInput"),c=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(c,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[(0,s.Lk)("h3",wo,(0,m.v_)(i.isEditing?"Edit Tag":"Create Tag"),1)])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.submitTag&&i.submitTag(...e)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.tagData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tagData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.submitTag&&i.submitTag(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(i.isEditing?"Update Tag":"Create Tag"),1)])),_:1},8,["isVisible","onClose"])}var Ro={components:{ModalLayout:Rt,CustomInput:D},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{tagData:{name:""}}},computed:{...(0,J.L8)("tag",["errors","activeTag"]),isEditing(){return!!this.id}},methods:{...(0,J.i0)("tag",["fetchTagById","createTag","updateTag","setErrors"]),async submitTag(){try{this.isEditing?await this.updateTag({id:this.id,name:this.tagData.name}):await this.createTag({name:this.tagData.name}),0===Object.keys(this.errors).length&&(this.resetForm(),alert("Tag has been successfully saved!"))}catch(e){console.error("Error saving tag:",e)}},resetForm(){this.isEditing||(this.tagData.name="")},close(){this.setErrors({}),this.$emit("close")}},mounted(){this.isEditing&&this.id&&this.fetchTagById(this.id).then((()=>{this.tagData.name=this.activeTag.name||""}))},watch:{id(e){this.isEditing&&e?this.fetchTagById(e).then((()=>{this.tagData.name=this.activeTag.name||""})):this.resetForm()}}};const Lo=(0,l.A)(Ro,[["render",ko]]);var So=Lo;const Io={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function xo(e,t,o,r,n,i){const l=(0,s.g2)("CustomInput"),c=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(c,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[(0,s.Lk)("h3",Io,(0,m.v_)(i.isEditing?"Edit Role":"Create Role"),1)])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>i.submitRole&&i.submitRole(...e)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.roleData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.roleData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.submitRole&&i.submitRole(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(i.isEditing?"Update Role":"Create Role"),1)])),_:1},8,["isVisible","onClose"])}var To={components:{ModalLayout:Rt,CustomInput:D},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{roleData:{name:""}}},computed:{...(0,J.L8)("role",["errors","activeRole"]),isEditing(){return!!this.id}},methods:{...(0,J.i0)("role",["fetchRoleById","createRole","updateRole","setErrors"]),async submitRole(){try{this.isEditing?(await this.updateRole({id:this.id,name:this.roleData.name}),this.$emit("close")):await this.createRole({name:this.roleData.name}),0===Object.keys(this.errors).length&&(this.resetForm(),alert("Role has been successfully saved!"))}catch(e){console.error("Error saving role:",e)}},resetForm(){this.isEditing||(this.roleData.name="")},close(){this.setErrors({}),this.$emit("close")}},mounted(){this.isEditing&&this.id&&this.fetchRoleById(this.id).then((()=>{this.roleData.name=this.activeRole?.name||""}))},watch:{id(e){this.isEditing&&e?this.fetchRoleById(e).then((()=>{this.roleData.name=this.activeRole?.name||""})):this.resetForm()}}};const _o=(0,l.A)(To,[["render",xo]]);var Do=_o,Oo={name:"DashboardPage",components:{HeaderComponent:ot,SidebarComponent:gt,DocumentCreationModal:no,CreateCollectionModal:mo,EventCreationModal:vo,EventOutcomeModal:yo,TagCreationModal:So,RoleCreationModal:Do,SpinnerComp:G},computed:{...(0,J.L8)("global",["loading"])},data(){return{menuItems:[{id:2,icon:"folder",label:"Collections",route:"Collection"},{id:3,icon:"calendar",label:"Events",route:"Event"},{id:4,icon:"tag",label:"Tags",route:"Tag"},{id:5,icon:"user",label:"Profile",route:"UserDetail"},{id:5,icon:"key",label:"Roles & Permissions",route:"Role"}],isMobileOverlayVisible:!1,showDocumentCreationModal:!1,showCollectionCreationModal:!1,showEventCreationModal:!1,showEventOutcomeModal:!1,showTagModal:!1,showRoleModal:!1}},methods:{toggleSidebar(){window.innerWidth>=1024?this.isMobileOverlayVisible=!1:this.isMobileOverlayVisible=!this.isMobileOverlayVisible},closeOverlay(){this.isMobileOverlayVisible=!1},handleResize(){window.innerWidth>=1024&&(this.isMobileOverlayVisible=!1)},openDocumentCreationModal(){this.showDocumentCreationModal=!0},closeDocumentCreationModal(){this.showDocumentCreationModal=!1},addDocument(e){this.$store.dispatch("addDocument",e)},openCollectionCreationModal(){this.showCollectionCreationModal=!0},closeCollectionCreationModal(){this.showCollectionCreationModal=!1},addCollection(e){this.$store.dispatch("collection/createCollection",e)},openEventCreationModal(){this.showEventCreationModal=!0},closeEventCreationModal(){this.showEventCreationModal=!1},addEvent(e){this.$store.dispatch("event/createEvent",e)},openEventOutcomeModal(){this.showEventOutcomeModal=!0},closeEventOutcomeModal(){this.showEventOutcomeModal=!1},addEventOutcome(e){this.$store.dispatch("eventOutcome/createEventOutcome",e)}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const Fo=(0,l.A)(Oo,[["render",Ne],["__scopeId","data-v-ede18b7c"]]);var Qo=Fo,Bo=o.p+"img/empty_collection.445101cc.jpg";const Uo=e=>((0,s.Qi)("data-v-94fa234a"),e=e(),(0,s.jt)(),e),Vo={class:"collection-page"},Mo={key:1,class:"empty-collection"},Po=Uo((()=>(0,s.Lk)("img",{src:Bo,alt:"No Collections",class:"empty-icon"},null,-1))),No=Uo((()=>(0,s.Lk)("p",{class:"empty-message"},"There are no collections or documents here yet. Start by creating a new collection!",-1))),$o=[Po,No],Xo={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4"};function Go(e,t,o,a,r,n){const i=(0,s.g2)("BreadcrumbComponent"),l=(0,s.g2)("ItemCard");return(0,s.uX)(),(0,s.CE)("div",Vo,[e.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(i,{key:0})),n.isEmptyCollection&&0==e.loading?((0,s.uX)(),(0,s.CE)("div",Mo,$o)):((0,s.uX)(),(0,s.CE)("div",Xo,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.items,(e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.id,title:e.name,description:e.description||"",type:e.type,"file-type":e.fileType,"author-name":e.authorName||"Unknown Author","author-avatar":e.authorAvatar||"default-avatar.png","upload-date":e.uploadDate,tags:e.tags?e.tags:[],onClick:t=>n.navigateTo(e)},null,8,["title","description","type","file-type","author-name","author-avatar","upload-date","tags","onClick"])))),128))]))])}const jo={class:"card p-4 border rounded-md shadow-sm flex"},Jo={class:"icon-container mr-4"},Wo=["src"],Ko={class:"content flex-1"},zo={class:"text-lg font-semibold"},qo={class:"text-sm text-gray-600"},Ho={class:"my-2"},Zo=["onClick"],Yo={key:0,class:"flex items-center mt-2"},ea=["src"],ta={class:"text-sm font-medium"},oa={class:"text-xs text-gray-500"};function aa(e,t,o,a,r,n){return(0,s.uX)(),(0,s.CE)("div",jo,[(0,s.Lk)("div",Jo,[(0,s.Lk)("img",{src:n.iconSrc,alt:"Item Icon",class:"w-12 h-12 object-cover"},null,8,Wo)]),(0,s.Lk)("div",Ko,[(0,s.Lk)("h3",zo,(0,m.v_)(o.title),1),(0,s.Lk)("p",qo,(0,m.v_)(o.description),1),(0,s.Lk)("div",Ho,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.tags,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e.id,onClick:t=>n.handleTagFilter(e.name,t),class:"inline-block px-3 py-1 mr-2 mb-2 text-sm bg-gray-700 text-white rounded-full"},(0,m.v_)(e.name),9,Zo)))),128))]),"document"===o.type?((0,s.uX)(),(0,s.CE)("div",Yo,[(0,s.Lk)("img",{src:n.formattedAuthorAvatar,alt:"Author Avatar",class:"w-8 h-8 rounded-full mr-2"},null,8,ea),(0,s.Lk)("div",null,[(0,s.Lk)("p",ta,(0,m.v_)(o.authorName),1),(0,s.Lk)("p",oa,(0,m.v_)(n.formattedDate),1)])])):(0,s.Q3)("",!0)])])}var sa={name:"ItemCard",props:{title:{type:String,required:!0},description:{type:String,required:!0},type:{type:String,required:!0},fileType:{type:String,default:null},authorName:{type:String,default:""},authorAvatar:{type:String,default:null},uploadDate:{type:String,default:""},tags:{type:Array,required:!1}},computed:{iconSrc(){if("document"!==this.type)return"collection"===this.type?o(3432):o(4851);switch(this.fileType){case"image/png":case"image/jpeg":case"image/gif":return o(5390);case"application/pdf":return o(2843);case"text/plain":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return o(1984);default:return o(4851)}},formattedDate(){if("document"===this.type){const e=new Date(this.uploadDate);return e.toLocaleDateString()+" "+e.toLocaleTimeString()}return""},formattedAuthorAvatar(){const e="/";return this.authorAvatar?`${e}storage/${this.authorAvatar}`:`${e}storage/avatars/default-avatar.png`},...(0,J.L8)("collection",["rootId"])},methods:{...(0,J.i0)("collection",["fetchRootCollection","fetchCollectionById"]),async handleTagFilter(e,t){if(t.stopPropagation(),"Collection"===this.$route.name){const t=this.$route.params.id;this.rootId&&t==this.rootId?await this.fetchRootCollection({tag:e,search:""}):t&&await this.fetchCollectionById({collectionId:t,tag:e,search:""})}}}};const ra=(0,l.A)(sa,[["render",aa],["__scopeId","data-v-06125a84"]]);var na=ra;const ia={class:"flex items-center space-x-2"},la={key:1},ca={key:1},da={key:2};function ua(e,t,o,r,n,i){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",ia,[i.isRoot?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(l,{key:0,to:{name:"Collection",params:{id:e.rootId}},class:"text-blue-500 hover:underline"},{default:(0,s.k6)((()=>[(0,s.eW)(" Root ")])),_:1},8,["to"])),i.isRoot?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",la,"/")),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.breadcrumb,((t,o)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:o},[o!==e.breadcrumb.length-1?((0,s.uX)(),(0,s.Wv)(l,{key:0,onClick:(0,a.D$)((e=>i.handleBreadcrumbClick(o,t)),["prevent"]),class:"text-blue-500 hover:underline",to:"/"},{default:(0,s.k6)((()=>[(0,s.eW)((0,m.v_)(t.name),1)])),_:2},1032,["onClick"])):((0,s.uX)(),(0,s.CE)("span",ca,(0,m.v_)(t.name),1)),o!==e.breadcrumb.length-1?((0,s.uX)(),(0,s.CE)("span",da,"/")):(0,s.Q3)("",!0)],64)))),128))])}var ma={name:"BreadcrumbComponent",computed:{...(0,J.L8)("breadcrumb",["breadcrumb"]),...(0,J.L8)("collection",["rootId"]),isRoot(){return 0===this.breadcrumb.length}},methods:{...(0,J.i0)("breadcrumb",["trimBreadcrumb"]),handleBreadcrumbClick(e,t){this.trimBreadcrumb(e),this.$router.push({name:t.type.charAt(0).toUpperCase()+t.type.slice(1),params:{id:t.id}})}}};const pa=(0,l.A)(ma,[["render",ua]]);var Aa=pa,ha={name:"CollectionPage",components:{ItemCard:na,BreadcrumbComponent:Aa},computed:{...(0,J.L8)("global",["loading"]),...(0,J.L8)("collection",["activeCollection","rootId"]),items(){const e=this.activeCollection?.children?.map((e=>({...e,type:"collection"})))||[],t=this.activeCollection?.documents?.map((e=>({...e,type:"document",fileType:e.file_type,uploadDate:e.created_at,authorName:e.user?`${e.user.first_name} ${e.user.last_name}`:null,authorAvatar:e.user?.avatar})))||[];return[...e,...t]},isEmptyCollection(){return!this.activeCollection||!this.activeCollection.children?.length&&!this.activeCollection.documents?.length}},methods:{...(0,J.i0)("collection",["setActiveCollection","fetchRootCollection","fetchCollectionById","fetchRootId"]),...(0,J.i0)("document",["setActiveDocument"]),...(0,J.i0)("breadcrumb",["addbBreadcrumItem","clearBreadcrumb"]),navigateTo(e){const t={id:e.id,name:e.name,type:e.type};this.addbBreadcrumItem(t),"collection"===e.type?this.$router.push({name:"Collection",params:{id:e.id}}):"document"===e.type&&this.$router.push({name:"Document",params:{id:e.id}})}},watch:{"$route.params.id":{async handler(e){e==this.rootId?(this.clearBreadcrumb(),await this.fetchRootCollection({tag:"",search:""})):await this.fetchCollectionById({collectionId:e,tag:"",search:""})},immediate:!0}}};const ga=(0,l.A)(ha,[["render",Go],["__scopeId","data-v-94fa234a"]]);var va=ga;const ba={key:0,class:"document-page p-6"},fa={key:1,class:"bg-white shadow rounded-lg p-6 mb-6"},Ea={class:"text-3xl font-bold mb-2"},Ca={class:"text-gray-700 mb-4"},ya={class:"my-2"},wa={class:"flex items-center space-x-4 mb-6"},ka=["src"],Ra={class:"text-lg font-semibold"},La={class:"text-sm text-gray-500"},Sa={class:"flex space-x-4 mb-6"},Ia={key:2,class:"bg-white shadow rounded-lg p-6"},xa=(0,s.Lk)("h2",{class:"text-2xl font-bold mb-4"},"Version History",-1),Ta={class:"w-full table-auto border-collapse"},_a=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",{class:"bg-gray-100 border-b"},[(0,s.Lk)("th",{class:"px-4 py-2 text-left"},"Version"),(0,s.Lk)("th",{class:"px-4 py-2 text-left"},"Date"),(0,s.Lk)("th",{class:"px-4 py-2 text-left"},"Description"),(0,s.Lk)("th",{class:"px-4 py-2 text-left"},"Actions")])],-1),Da={class:"px-4 py-2"},Oa={class:"px-4 py-2"},Fa={class:"px-4 py-2"},Qa={class:"px-4 py-2"},Ba=["onClick"],Ua=["onClick"],Va={key:0},Ma=(0,s.Lk)("td",{colspan:"4",class:"px-4 py-2 text-center text-gray-500"},"No version history available",-1),Pa=[Ma];function Na(e,t,o,a,r,n){const i=(0,s.g2)("BreadcrumbComponent"),l=(0,s.g2)("font-awesome-icon"),c=(0,s.g2)("DocumentVersionCreationModal"),d=(0,s.g2)("DocumentCreationModal");return!e.loading&&e.activeDocument?((0,s.uX)(),(0,s.CE)("div",ba,[e.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(i,{key:0})),e.activeDocument?((0,s.uX)(),(0,s.CE)("div",fa,[(0,s.Lk)("h1",Ea,(0,m.v_)(e.activeDocument?.name),1),(0,s.Lk)("p",Ca,(0,m.v_)(e.activeDocument?.description||"No description available"),1),(0,s.Lk)("div",ya,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.activeDocument?.tags,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e.id,class:"inline-block px-3 py-1 mr-2 mb-2 text-sm bg-gray-700 text-white rounded-full"},(0,m.v_)(e?.name),1)))),128))]),(0,s.Lk)("div",wa,[e.activeDocument?.user?.avatar?((0,s.uX)(),(0,s.CE)("img",{key:0,src:n.formattedUserAvatar,alt:"User Avatar",class:"w-12 h-12 rounded-full"},null,8,ka)):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[(0,s.Lk)("p",Ra,(0,m.v_)(e.activeDocument?.user?.first_name)+" "+(0,m.v_)(e.activeDocument?.user?.last_name),1),(0,s.Lk)("p",La,(0,m.v_)(new Date(e.activeDocument.created_at).toLocaleDateString()),1)])]),(0,s.Lk)("div",Sa,[(0,s.Lk)("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[0]||(t[0]=(...e)=>n.handleDownloadDocument&&n.handleDownloadDocument(...e))},[(0,s.bF)(l,{icon:"download",class:"mr-2"}),(0,s.eW)(" Download ")]),(0,s.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=e=>r.showDocumentModal=!0)},[(0,s.bF)(l,{icon:"edit",class:"mr-2"}),(0,s.eW)(" Edit ")]),(0,s.Lk)("button",{class:"bg-gray-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=e=>r.showVersionModal=!0)},[(0,s.bF)(l,{icon:"upload",class:"mr-2"}),(0,s.eW)(" Upload New Version ")]),(0,s.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[3]||(t[3]=(...e)=>n.confirmDelete&&n.confirmDelete(...e))},[(0,s.bF)(l,{icon:"trash",class:"mr-2"}),(0,s.eW)(" Delete ")])])])):(0,s.Q3)("",!0),e.activeDocument?((0,s.uX)(),(0,s.CE)("div",Ia,[xa,(0,s.Lk)("table",Ta,[_a,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.activeDocument.versions||[],(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"border-b"},[(0,s.Lk)("td",Da,(0,m.v_)(e.version_number),1),(0,s.Lk)("td",Oa,(0,m.v_)(new Date(e.created_at).toLocaleDateString()),1),(0,s.Lk)("td",Fa,(0,m.v_)(e.description),1),(0,s.Lk)("td",Qa,[(0,s.Lk)("button",{class:"text-blue-500 hover:underline mr-2",onClick:t=>n.handleDownloadDocumentVersion(e.id)},[(0,s.bF)(l,{icon:"download"}),(0,s.eW)(" Download ")],8,Ba),(0,s.Lk)("button",{class:"text-red-500 hover:underline",onClick:t=>n.handleRestoreDocumentVersion(e.id)},[(0,s.bF)(l,{icon:"undo"}),(0,s.eW)(" Restore ")],8,Ua)])])))),128)),e.activeDocument.versions&&e.activeDocument.versions.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("tr",Va,Pa))])])])):(0,s.Q3)("",!0),(0,s.bF)(c,{isVisible:r.showVersionModal,onClose:t[4]||(t[4]=e=>r.showVersionModal=!1)},null,8,["isVisible"]),(0,s.bF)(d,{isVisible:r.showDocumentModal,isEditing:!0,document:e.activeDocument,onClose:t[5]||(t[5]=e=>r.showDocumentModal=!1)},null,8,["isVisible","document"])])):(0,s.Q3)("",!0)}const $a=(0,s.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Upload New Version ",-1);function Xa(e,t,o,r,n,i){const l=(0,s.g2)("CustomText"),c=(0,s.g2)("CustomFileInput"),d=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(d,{isVisible:o.isVisible,onClose:i.close},{header:(0,s.k6)((()=>[$a])),body:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.uploadVersion&&i.uploadVersion(...e)),["prevent"]))},[(0,s.bF)(l,{modelValue:n.versionData.description,"onUpdate:modelValue":t[0]||(t[0]=e=>n.versionData.description=e),prompt:"Version Description (optional)",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,s.bF)(c,{value:n.versionData.file,onInput:t[1]||(t[1]=e=>n.versionData.file=e),label:"Upload New Version",error:e.errors.file?e.errors.file.join(" "):"",required:""},null,8,["value","error"])],32)])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.uploadVersion&&i.uploadVersion(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Upload Version ")])),_:1},8,["isVisible","onClose"])}var Ga={components:{ModalLayout:Rt,CustomText:Ot,CustomFileInput:Kt},props:{isVisible:{type:Boolean,default:!1}},data(){return{versionData:{description:"",file:null}}},computed:{...(0,J.L8)("collection",["errors"])},methods:{...(0,J.i0)("collection",["uploadDocumentVersion","setErrors"]),close(){this.setErrors({}),this.$emit("close")},uploadVersion(){this.versionData.file?this.uploadDocumentVersion(this.versionData).then((()=>this.close())):this.setErrors({file:["File is required"]})}}};const ja=(0,l.A)(Ga,[["render",Xa]]);var Ja=ja,Wa={components:{DocumentVersionCreationModal:Ja,DocumentCreationModal:no,BreadcrumbComponent:Aa},data(){return{showDocumentModal:!1,showVersionModal:!1}},computed:{...(0,J.L8)("collection",["activeDocument","rootId"]),...(0,J.L8)("global",["loading"]),formattedUserAvatar(){const e="/";return this.activeDocument.user?.avatar?`${e}storage/${this.activeDocument.user.avatar}`:`${e}storage/avatars/default-avatar.png`}},methods:{...(0,J.i0)("collection",["deleteDocument","fetchDocumentById"]),...(0,J.i0)("document",["downloadDocument","downloadDocumentVersion","restoreDocumentVersion"]),async handleDownloadDocumentVersion(e){const t=this.activeDocument.id;await this.downloadDocumentVersion({documentId:t,versionId:e})},async handleRestoreDocumentVersion(e){const t=this.activeDocument.id;await this.restoreDocumentVersion({documentId:t,versionId:e})},async handleDownloadDocument(){const e=this.activeDocument.id;await this.downloadDocument(e)},confirmDelete(){confirm("Are you sure you want to delete this document? This action cannot be undone.")&&this.deleteDocument(this.activeDocument.id).then((()=>{this.$router.push({name:"Collection",params:{id:this.rootId}})})).catch((e=>{console.error("Error deleting the document:",e)}))}},watch:{"$route.params.id":{async handler(e){await this.fetchDocumentById(e)},immediate:!0}}};const Ka=(0,l.A)(Wa,[["render",Na]]);var za=Ka,qa=o.p+"img/empty_event.70839371.jpg";const Ha=e=>((0,s.Qi)("data-v-97cf4484"),e=e(),(0,s.jt)(),e),Za={class:"event-page"},Ya={key:0,class:"empty-event"},es=Ha((()=>(0,s.Lk)("img",{src:qa,alt:"No Events",class:"empty-icon"},null,-1))),ts=Ha((()=>(0,s.Lk)("p",{class:"empty-message"},"There are no events available at the moment. Start by creating a new event!",-1))),os=[es,ts],as={key:1,class:"container mx-auto p-4"},ss={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"};function rs(e,t,o,a,r,n){const i=(0,s.g2)("EventCard");return(0,s.uX)(),(0,s.CE)("div",Za,[0!==e.events.length||e.loading?((0,s.uX)(),(0,s.CE)("div",as,[(0,s.Lk)("div",ss,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.events,(e=>((0,s.uX)(),(0,s.Wv)(i,{key:e.id,title:e.name,description:e.description,startDate:e.start,endDate:e.end,tags:e.tags,location:e.location,poster:e.poster,user:e.user,onClick:t=>n.navigateToEvent(e)},null,8,["title","description","startDate","endDate","tags","location","poster","user","onClick"])))),128))])])):((0,s.uX)(),(0,s.CE)("div",Ya,os))])}const ns={class:"p-4 border rounded-md shadow-sm flex flex-col cursor-pointer transition-transform duration-300 transform hover:scale-105"},is={class:"mb-4"},ls=["src"],cs={class:"text-lg font-semibold mb-2"},ds={class:"text-sm text-gray-600 mb-2"},us={class:"flex items-center mb-2"},ms={class:"text-sm"},ps=(0,s.Lk)("span",{class:"mx-2"},"-",-1),As={class:"text-sm"},hs={class:"mb-2"},gs=["onClick"],vs={class:"flex items-center mb-4"},bs={class:"text-sm"},fs={key:0,class:"flex items-center"},Es=["src"],Cs={class:"text-sm font-medium"};function ys(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",ns,[(0,s.Lk)("div",is,[(0,s.Lk)("img",{src:n.formattedPoster,alt:"Event Poster",class:"w-full h-32 object-cover rounded-md"},null,8,ls)]),(0,s.Lk)("h3",cs,(0,m.v_)(o.title),1),(0,s.Lk)("p",ds,(0,m.v_)(n.shortDescription),1),(0,s.Lk)("div",us,[(0,s.bF)(i,{icon:"calendar-day",class:"w-4 h-4 mr-1"}),(0,s.Lk)("p",ms,(0,m.v_)(o.startDate),1),ps,(0,s.bF)(i,{icon:"calendar-day",class:"w-4 h-4 mr-1"}),(0,s.Lk)("p",As,(0,m.v_)(o.endDate),1)]),(0,s.Lk)("div",hs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.tags,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e.id,onClick:t=>n.handleTagFilter(e.name,t),class:"inline-block px-3 py-1 mr-2 mb-2 text-sm bg-gray-700 text-white rounded-full"},(0,m.v_)(e.name),9,gs)))),128))]),(0,s.Lk)("div",vs,[(0,s.bF)(i,{icon:"map-marker-alt",class:"w-4 h-4 mr-2"}),(0,s.Lk)("p",bs,(0,m.v_)(o.location),1)]),o.user?((0,s.uX)(),(0,s.CE)("div",fs,[(0,s.Lk)("img",{src:n.formattedUserAvatar,alt:"User Avatar",class:"w-8 h-8 rounded-full mr-2"},null,8,Es),(0,s.Lk)("p",Cs,(0,m.v_)(n.userFullName),1)])):(0,s.Q3)("",!0)])}var ws={name:"EventCard",components:{FontAwesomeIcon:We.gc},props:{title:String,description:String,startDate:String,endDate:String,tags:Array,location:String,poster:String,user:Object},computed:{shortDescription(){return this.description.length>100?this.description.substring(0,100)+"...":this.description},baseUrl(){return"/"},formattedPoster(){return this.poster?`${this.baseUrl}storage/${this.poster}`:`${this.baseUrl}storage/event_posters/default-poster.png`},formattedUserAvatar(){return this.user&&this.user.avatar?`${this.baseUrl}storage/${this.user.avatar}`:`${this.baseUrl}storage/avatars/default-avatar.png`},userFullName(){return this.user?`${this.user.first_name} ${this.user.last_name}`:""}},methods:{...(0,J.i0)("event",["fetchEvents"]),async handleTagFilter(e,t){t.stopPropagation(),"Event"===this.$route.name&&await this.fetchEvents({tag:e,search:""})}}};const ks=(0,l.A)(ws,[["render",ys]]);var Rs=ks,Ls={name:"EventPage",components:{EventCard:Rs},computed:{...(0,J.L8)("event",["events"]),...(0,J.L8)("global",["loading"])},methods:{...(0,J.i0)("event",["fetchEvents"]),navigateToEvent(e){this.$store.dispatch("event/setActiveEvent",e),this.$router.push({name:"EventDetail",params:{id:e.id}})}},mounted(){this.fetchEvents({tag:"",search:""})}};const Ss=(0,l.A)(Ls,[["render",rs],["__scopeId","data-v-97cf4484"]]);var Is=Ss;const xs={class:"p-6 flex flex-col"},Ts={key:0,class:"bg-white shadow rounded-lg p-6 mb-6"},_s={class:"text-3xl font-bold mb-2"},Ds={class:"text-gray-700 mb-4"},Os={class:"flex items-center space-x-4 mb-6"},Fs={class:"relative"},Qs=["src"],Bs={key:0},Us={class:"text-lg font-semibold"},Vs={class:"text-sm text-gray-500"},Ms={class:"flex space-x-4 mb-6"},Ps={class:"mb-4"},Ns=(0,s.Lk)("h2",{class:"text-xl font-semibold mb-2"},"Event Files",-1),$s={key:0},Xs=["href"],Gs=["onClick"],js={key:1},Js=(0,s.Lk)("p",{class:"text-gray-500"},"No files have been added to this event yet.",-1),Ws=[Js],Ks=(0,s.Lk)("h2",{class:"text-xl font-semibold mb-2"},"Event Outcomes",-1),zs={key:0},qs={class:"flex justify-between items-center"},Hs={class:"font-medium"},Zs=["onClick"],Ys=["onClick"],er={class:"text-gray-500 mt-2"},tr={class:"mt-4"},or=(0,s.Lk)("h3",{class:"text-lg font-semibold mb-4"},"Outcome Images",-1),ar={key:0,class:"flex flex-wrap gap-4"},sr=["href"],rr=["src"],nr=["onClick"],ir={key:1},lr=(0,s.Lk)("p",{class:"text-gray-500"},"No images available for this outcome.",-1),cr=[lr],dr=["onClick"],ur={class:"mt-4"},mr=(0,s.Lk)("h3",{class:"text-lg font-semibold"},"Outcome Files",-1),pr=["href"],Ar=["onClick"],hr={key:0},gr=(0,s.Lk)("p",{class:"text-gray-500"},"No files available for this outcome.",-1),vr=[gr],br=["onClick"],fr={key:1},Er=(0,s.Lk)("p",{class:"text-gray-500"},"No outcomes have been added to this event yet.",-1),Cr=[Er];function yr(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon"),l=(0,s.g2)("router-link"),c=(0,s.g2)("ReusableTable"),d=(0,s.g2)("FileUploader"),u=(0,s.g2)("EventCreationModal"),p=(0,s.g2)("EventOutcomeModal");return(0,s.uX)(),(0,s.CE)("div",xs,[n.event?((0,s.uX)(),(0,s.CE)("div",Ts,[(0,s.Lk)("h1",_s,(0,m.v_)(n.event.name),1),(0,s.Lk)("p",Ds,(0,m.v_)(n.event.description||"No description available"),1),(0,s.Lk)("div",Os,[(0,s.Lk)("div",Fs,[(0,s.Lk)("img",{src:n.formattedEventPoster,alt:"Event Poster",class:"w-32 h-32 object-cover rounded-lg shadow-lg"},null,8,Qs),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.triggerPosterModal&&n.triggerPosterModal(...e)),class:"absolute bottom-0 right-0 p-2 w-10 h-10 bg-white rounded-full shadow-md"},[(0,s.bF)(i,{icon:"pen",class:"text-gray-600"})])]),n.event.user?((0,s.uX)(),(0,s.CE)("div",Bs,[(0,s.Lk)("p",Us,[(0,s.bF)(l,{to:{name:"UserDetail",params:{id:n.event.user.id}}},{default:(0,s.k6)((()=>[(0,s.eW)((0,m.v_)(n.formatUserName(n.event.user)),1)])),_:1},8,["to"])]),(0,s.Lk)("p",Vs,(0,m.v_)(new Date(n.event.created_at).toLocaleDateString()),1)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Ms,[(0,s.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=e=>r.showEventModal=!0)},[(0,s.bF)(i,{icon:"edit",class:"mr-2"}),(0,s.eW)(" Edit ")]),(0,s.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=(...e)=>n.confirmDelete&&n.confirmDelete(...e))},[(0,s.bF)(i,{icon:"trash",class:"mr-2"}),(0,s.eW)(" Delete ")]),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.handleCreateEventOutcome&&n.handleCreateEventOutcome(...e)),class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,s.bF)(i,{icon:"plus",class:"mr-2"}),(0,s.eW)(" Add Event Outcome ")])])])):(0,s.Q3)("",!0),(0,s.Lk)("section",Ps,[Ns,n.event.files&&n.event.files.length>0?((0,s.uX)(),(0,s.CE)("div",$s,[(0,s.bF)(c,{labels:["File Name","File Type","Uploaded By","Date",""],headers:["file_name","file_type","user","created_at","Actions"],rows:n.event.files},{"cell-0":(0,s.k6)((({row:e})=>[(0,s.Lk)("a",{href:`${n.baseUrl}storage/${e.file_path}`,class:"text-blue-500 hover:underline",target:"_blank"},(0,m.v_)(e.file_name),9,Xs)])),"cell-2":(0,s.k6)((({row:e})=>[e.user?((0,s.uX)(),(0,s.Wv)(l,{key:0,to:{name:"UserDetail",params:{id:e.user.id}},class:"text-blue-500 hover:underline"},{default:(0,s.k6)((()=>[(0,s.eW)((0,m.v_)(n.formatUserName(e.user)),1)])),_:2},1032,["to"])):(0,s.Q3)("",!0)])),"cell-4":(0,s.k6)((({row:e})=>[(0,s.Lk)("button",{onClick:t=>n.handleRemoveEventFile(e.id),class:"text-red-500 hover:text-red-700"},[(0,s.bF)(i,{icon:"trash"})],8,Gs)])),_:1},8,["rows"])])):((0,s.uX)(),(0,s.CE)("div",js,Ws)),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.handleAddFile&&n.handleAddFile(...e)),class:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,s.bF)(i,{icon:"plus",class:"mr-2"}),(0,s.eW)(" Add File ")]),(0,s.bF)(d,{isVisible:r.showEventFileUploader,operationType:"eventFile",onClose:t[5]||(t[5]=e=>{r.showEventFileUploader=!1})},null,8,["isVisible"])]),(0,s.Lk)("section",null,[Ks,n.event.outcomes&&n.event.outcomes.length>0?((0,s.uX)(),(0,s.CE)("div",zs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.event.outcomes,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"bg-white p-4 border rounded-lg shadow-md mb-4"},[(0,s.Lk)("div",qs,[(0,s.Lk)("p",Hs,"#"+(0,m.v_)(t+1)+" : "+(0,m.v_)(e.description),1),(0,s.Lk)("div",null,[(0,s.Lk)("button",{onClick:t=>n.editOutcome(e.id),class:"text-blue-500 hover:text-blue-700 mr-2"},[(0,s.bF)(i,{icon:"edit"})],8,Zs),(0,s.Lk)("button",{onClick:t=>n.confirmOutcomeDelete(e.id),class:"text-red-500 hover:text-red-700"},[(0,s.bF)(i,{icon:"trash"})],8,Ys)])]),(0,s.Lk)("p",er,[(0,s.eW)(" Uploaded by "),e.user?((0,s.uX)(),(0,s.Wv)(l,{key:0,to:{name:"UserDetail",params:{id:e.user.id}},class:"text-blue-500 hover:underline"},{default:(0,s.k6)((()=>[(0,s.eW)((0,m.v_)(n.formatUserName(e.user)),1)])),_:2},1032,["to"])):(0,s.Q3)("",!0),(0,s.eW)(" on "+(0,m.v_)(new Date(e.date).toLocaleDateString()),1)]),(0,s.Lk)("div",tr,[or,e.images&&e.images.length>0?((0,s.uX)(),(0,s.CE)("div",ar,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.images,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"relative group"},[(0,s.Lk)("a",{href:`${n.baseUrl}storage/${t.image_path}`,target:"_blank"},[(0,s.Lk)("img",{src:`${n.baseUrl}storage/${t.image_path}`,alt:"Outcome Image",class:"w-32 h-32 object-cover rounded-md"},null,8,rr)],8,sr),(0,s.Lk)("button",{onClick:o=>n.handleRemoveOutcomeImage(e.id,t.id),class:"absolute bottom-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"},[(0,s.bF)(i,{icon:"trash"})],8,nr)])))),128))])):((0,s.uX)(),(0,s.CE)("div",ir,cr)),(0,s.Lk)("button",{onClick:t=>n.handleAddOutcomeImage(e.id),class:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,s.bF)(i,{icon:"plus",class:"mr-2"}),(0,s.eW)(" Add Image ")],8,dr)]),(0,s.Lk)("div",ur,[mr,(0,s.bF)(c,{labels:["File Name","Type","Uploaded By","Date Uploaded","Actions"],headers:["file_name","file_type","user","created_at",""],rows:e.files||[]},{"cell-0":(0,s.k6)((({row:e})=>[(0,s.Lk)("a",{href:`${n.baseUrl}storage/${e.file_path}`,class:"text-blue-500 hover:underline",target:"_blank"},(0,m.v_)(e.file_name),9,pr)])),"cell-2":(0,s.k6)((({row:e})=>[e.user?((0,s.uX)(),(0,s.Wv)(l,{key:0,to:{name:"UserDetail",params:{id:e.user.id}},class:"text-blue-500 hover:underline"},{default:(0,s.k6)((()=>[(0,s.eW)((0,m.v_)(n.formatUserName(e.user)),1)])),_:2},1032,["to"])):(0,s.Q3)("",!0)])),"cell-4":(0,s.k6)((({row:t})=>[(0,s.Lk)("button",{onClick:o=>n.handleRemoveOutcomeFile(e.id,t.id),class:"text-red-500 hover:text-red-700"},[(0,s.bF)(i,{icon:"trash"})],8,Ar)])),_:2},1032,["rows"]),e.files&&0!==e.files.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",hr,vr)),(0,s.Lk)("button",{onClick:t=>n.handleAddOutcomeFile(e.id),class:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,s.bF)(i,{icon:"plus",class:"mr-2"}),(0,s.eW)(" Add File ")],8,br)])])))),128))])):((0,s.uX)(),(0,s.CE)("div",fr,Cr))]),(0,s.bF)(u,{isVisible:r.showEventModal,id:e.$route.params.id,onClose:t[6]||(t[6]=e=>r.showEventModal=!1)},null,8,["isVisible","id"]),(0,s.bF)(p,{isVisible:r.showEditOutcomeModal,id:r.theOutcomeId,onClose:t[7]||(t[7]=e=>r.showEditOutcomeModal=!1)},null,8,["isVisible","id"]),(0,s.bF)(p,{isVisible:r.showOutcomeModal,onClose:t[8]||(t[8]=e=>r.showOutcomeModal=!1)},null,8,["isVisible"]),(0,s.bF)(d,{isVisible:r.showOutcomeFileUploader,operationType:"outcomeFile",id:r.theOutcomeId,onClose:t[9]||(t[9]=e=>{r.showOutcomeFileUploader=!1})},null,8,["isVisible","id"]),(0,s.bF)(d,{isVisible:r.showOutcomeImageUploader,operationType:"outcomeImage",id:r.theOutcomeId,onClose:t[10]||(t[10]=e=>r.showOutcomeImageUploader=!1)},null,8,["isVisible","id"])])}const wr={class:"overflow-x-auto"},kr={class:"min-w-full bg-white border border-gray-200"};function Rr(e,t,o,a,r,n){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",wr,[(0,s.Lk)("table",kr,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.labels,((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t,class:"px-4 py-2 border-b bg-gray-100 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},(0,m.v_)(e),1)))),128))])]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.rows,((t,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a,class:"hover:bg-gray-50"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.headers,((o,a)=>((0,s.uX)(),(0,s.CE)("td",{key:a,class:"px-4 py-2 border-b text-sm text-gray-700"},[(0,s.RG)(e.$slots,"cell-"+a,{row:t},(()=>[(0,s.eW)((0,m.v_)(t[o]),1)]))])))),128))])))),128))])])])])}var Lr={name:"ReusableTable",props:{labels:{type:Array,required:!0},headers:{type:Array,required:!0},rows:{type:Array,required:!0}}};const Sr=(0,l.A)(Lr,[["render",Rr]]);var Ir=Sr;const xr=(0,s.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Upload File ",-1);function Tr(e,t,o,a,r,n){const i=(0,s.g2)("CustomFileInput"),l=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(l,{isVisible:o.isVisible,onClose:n.close},{header:(0,s.k6)((()=>[xr])),body:(0,s.k6)((()=>[(0,s.bF)(i,{modelValue:r.file,"onUpdate:modelValue":t[0]||(t[0]=e=>r.file=e),label:r.label,accept:r.accept,error:r.error,onNewFile:n.handleFileInput},null,8,["modelValue","label","accept","error","onNewFile"])])),footer:(0,s.k6)((()=>[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.submitFile&&n.submitFile(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Upload ")])),_:1},8,["isVisible","onClose"])}var _r={components:{ModalLayout:Rt,CustomFileInput:Kt},props:{isVisible:{type:Boolean,default:!1},operationType:{type:String,required:!0},id:{type:Number,required:!1}},computed:(0,J.L8)("event",["activeEvent"]),data(){return{file:null,label:"Upload File",accept:"*/*",error:""}},methods:{...(0,J.i0)("event",["uploadEventFile"]),...(0,J.i0)("eventOutcome",["uploadOutcomeFile","uploadOutcomeImage"]),async submitFile(){if(!this.file)return this.error="Please select a file.",void console.log(this.file);this.error="";try{switch(this.operationType){case"eventFile":await this.handleEventFileUpload();break;case"outcomeFile":await this.handleOutcomeFileUpload();break;case"outcomeImage":await this.handleOutcomeImageUpload();break;default:throw new Error("Invalid operation type")}this.$emit("close")}catch(e){console.error("Upload failed:",e),this.error="Upload failed. Please try again."}},async handleEventFileUpload(){if(!this.activeEvent||!this.activeEvent.id)throw new Error("Active event is not available.");const e=new FormData;e.append("file",this.file),await this.uploadEventFile(e)},async handleOutcomeFileUpload(){if(!this.activeEvent||!this.activeEvent.id)throw new Error("Active event is not available.");const e=new FormData;e.append("file",this.file),await this.uploadOutcomeFile({outcomeId:this.id,formData:e})},async handleOutcomeImageUpload(){if(!this.activeEvent||!this.activeEvent.id)throw new Error("Active event is not available.");const e=new FormData;e.append("image",this.file),console.log(this.id),await this.uploadOutcomeImage({outcomeId:this.id,formData:e})},close(){this.file=null,this.$emit("close")},handleFileInput(e){this.file=e}}};const Dr=(0,l.A)(_r,[["render",Tr]]);var Or=Dr,Fr={components:{ReusableTable:Ir,EventCreationModal:vo,FileUploader:Or,EventOutcomeModal:yo},data(){return{showEventModal:!1,showPosterModal:!1,selectedOutcomeId:null,showEventFileUploader:!1,showOutcomeFileUploader:!1,showEditOutcomeModal:!1,showOutcomeModal:!1,showOutcomeImageUploader:!1,theOutcomeId:""}},computed:{...(0,J.L8)("event",["activeEvent"]),event(){return this.activeEvent},baseUrl(){return"/"},formattedEventPoster(){return this.event.poster?`${this.baseUrl}storage/${this.event.poster}`:`${this.baseUrl}storage/event_posters/default-poster.png`}},methods:{...(0,J.i0)("event",["fetchEventById","deleteEvent","removeEventFile"]),...(0,J.i0)("eventOutcome",["deleteEventOutcome"]),async confirmDelete(){confirm("Are you sure you want to delete this event?")&&(await this.deleteEvent(this.$route.params.id),this.$router.push({name:"Event"}))},async handleRemoveEventFile(e){confirm("Are you sure you want to remove this file?")&&await this.removeEventFile(e)},async handleRemoveFile(e){confirm("Are you sure you want to remove this file?")&&(await this.$store.dispatch("event/deleteEventFile",e),this.fetchEventById(this.$route.params.id))},async handleAddFile(){this.showEventFileUploader=!0},async handleRemoveOutcomeImage(e,t){confirm("Are you sure you want to remove this image?")&&await this.$store.dispatch("eventOutcome/removeOutcomeImage",{outcomeId:e,imageId:t})},async handleAddOutcomeImage(e){this.theOutcomeId=e,this.showOutcomeImageUploader=!0},async handleRemoveOutcomeFile(e,t){confirm("Are you sure you want to remove this file?")&&await this.$store.dispatch("eventOutcome/removeOutcomeFile",{outcomeId:e,fileId:t})},async handleAddOutcomeFile(e){this.theOutcomeId=e,this.showOutcomeFileUploader=!0},triggerPosterModal(){this.showPosterModal=!0},editOutcome(e){this.theOutcomeId=e,this.showEditOutcomeModal=!0},async confirmOutcomeDelete(e){confirm("Are you sure you want to delete this outcome?")&&await this.deleteEventOutcome(e)},formatUserName(e){return`${e.first_name} ${e.middle_name?`${e.middle_name} `:""}${e.last_name}`},handleCreateEventOutcome(){this.showOutcomeModal=!0}},async created(){await this.fetchEventById(this.$route.params.id)},watch:{"$route.params.id":{handler(e){this.fetchEventById(e)},immediate:!0}}};const Qr=(0,l.A)(Fr,[["render",yr]]);var Br=Qr;const Ur=e=>((0,s.Qi)("data-v-23520b71"),e=e(),(0,s.jt)(),e),Vr={class:"p-4"},Mr=Ur((()=>(0,s.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Tags",-1))),Pr={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},Nr=Ur((()=>(0,s.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Name"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Created"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"By"),(0,s.Lk)("th",{class:"py-3 px-4 border-b"})])],-1))),$r={class:"py-2 px-4 border-b text-left"},Xr={class:"py-2 px-4 border-b text-left"},Gr={class:"py-2 px-4 border-b text-left"},jr={class:"py-2 px-4 border-b text-left"},Jr={key:0,class:"flex items-center"},Wr=["src"],Kr={class:"text-sm font-medium"},zr={key:1,class:"text-sm text-gray-500"},qr={class:"py-2 px-4 border-b text-center"},Hr=["onClick"],Zr=["onClick"];function Yr(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon"),l=(0,s.g2)("TagCreationModal");return(0,s.uX)(),(0,s.CE)("div",Vr,[Mr,(0,s.Lk)("table",Pr,[Nr,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.tags,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",$r,(0,m.v_)(t+1),1),(0,s.Lk)("td",Xr,(0,m.v_)(e.name),1),(0,s.Lk)("td",Gr,(0,m.v_)(n.formatDate(e.created_at)),1),(0,s.Lk)("td",jr,[e.user?((0,s.uX)(),(0,s.CE)("div",Jr,[(0,s.Lk)("img",{src:n.formattedUserAvatar(e.user),alt:"User Avatar",class:"w-8 h-8 rounded-full mr-2"},null,8,Wr),(0,s.Lk)("p",Kr,(0,m.v_)(n.userFullName(e.user)),1)])):((0,s.uX)(),(0,s.CE)("p",zr,"Unknown"))]),(0,s.Lk)("td",qr,[(0,s.Lk)("button",{onClick:t=>n.editTag(e),class:"text-blue-500 hover:text-blue-700 mr-4","aria-label":"Edit Tag"},[(0,s.bF)(i,{icon:"pen"})],8,Hr),(0,s.Lk)("button",{onClick:t=>n.confirmDelete(e),class:"text-red-500 hover:text-red-700","aria-label":"Delete Tag"},[(0,s.bF)(i,{icon:"trash"})],8,Zr)])])))),128))])]),(0,s.bF)(l,{isVisible:r.showTagModal,id:r.selectedTagId,onClose:t[0]||(t[0]=e=>r.showTagModal=!1)},null,8,["isVisible","id"])])}var en={components:{TagCreationModal:So},data(){return{selectedTagId:"",showTagModal:!1}},computed:{...(0,J.L8)("tag",["tags"]),baseUrl(){return"/"}},async mounted(){await this.fetchTags({name:""})},methods:{...(0,J.i0)("tag",["fetchTags","deleteTag"]),formatDate(e){return new Date(e).toLocaleDateString()},formattedUserAvatar(e){return e&&e.avatar?`${this.baseUrl}storage/${e.avatar}`:`${this.baseUrl}storage/avatars/default-avatar.png`},userFullName(e){return`${e.first_name||""} ${e.last_name||""}`},editTag(e){this.selectedTagId=e.id,this.showTagModal=!0},confirmDelete(e){confirm(`Are you sure you want to delete tag "${e.name}"?`)&&this.deleteTag(e.id)}}};const tn=(0,l.A)(en,[["render",Yr],["__scopeId","data-v-23520b71"]]);var on=tn;const an={class:"p-6 max-w-3xl mx-auto"},sn=(0,s.Lk)("h1",{class:"text-3xl font-bold mb-6"},"Profile",-1),rn={key:0,class:"flex items-center mb-8"},nn={class:"relative"},ln=["src"],cn={class:"ml-4"},dn={class:"text-2xl font-semibold"},un={class:"text-gray-600"},mn={class:"text-gray-600"},pn={key:1,class:"space-y-4"},An={class:"flex items-center"},hn={class:"text-gray-600"},gn={class:"flex items-center"},vn={class:"text-gray-600"};function bn(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",an,[sn,r.user?((0,s.uX)(),(0,s.CE)("div",rn,[(0,s.Lk)("div",nn,[(0,s.Lk)("img",{src:n.formattedUserAvatar,alt:"User Avatar",class:"w-32 h-32 rounded-full object-cover shadow-lg"},null,8,ln),n.isOwnProfile?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.triggerAvatarModal&&n.triggerAvatarModal(...e)),class:"absolute bottom-0 right-0 p-2 w-10 h-10 bg-white rounded-full shadow-md"},[(0,s.bF)(i,{icon:"pen",class:"text-gray-600"})])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",cn,[(0,s.Lk)("h2",dn,(0,m.v_)(n.fullName),1),(0,s.Lk)("p",un,(0,m.v_)(r.user.email),1),(0,s.Lk)("p",mn,(0,m.v_)(r.user.phone),1)])])):(0,s.Q3)("",!0),r.user?((0,s.uX)(),(0,s.CE)("div",pn,[(0,s.Lk)("div",An,[(0,s.bF)(i,{icon:"phone",class:"w-6 h-6 text-gray-600 mr-2"}),(0,s.Lk)("p",hn,(0,m.v_)(r.user.phone),1)]),(0,s.Lk)("div",gn,[(0,s.bF)(i,{icon:"envelope",class:"w-6 h-6 text-gray-600 mr-2"}),(0,s.Lk)("p",vn,(0,m.v_)(r.user.email),1)])])):(0,s.Q3)("",!0),n.isOwnProfile?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[1]||(t[1]=(...e)=>n.triggerEditModal&&n.triggerEditModal(...e)),class:"mt-6 px-4 py-2 bg-blue-500 text-white rounded shadow-md hover:bg-blue-600"}," Edit Details ")):(0,s.Q3)("",!0)])}var fn=o(4373);const En=fn.A.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});En.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),En.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));var Cn=En,yn={data(){return{user:null,showAvatarModal:!1,showEditModal:!1,editUser:{first_name:"",middle_name:"",last_name:"",phone:""},defaultAvatar:"//storage/avatars/default-avatar.png"}},computed:{...(0,J.L8)("global",["loading"]),baseUrl(){return"/"},fullName(){if(!this.user)return"";const{first_name:e,middle_name:t,last_name:o}=this.user;return[e,t,o].filter(Boolean).join(" ")},formattedUserAvatar(){return this.user&&this.user.avatar?`${this.baseUrl}storage/${this.user.avatar}`:`${this.baseUrl}storage/avatars/default-avatar.png`},isOwnProfile(){return!this.$route.params.id}},watch:{"$route.params.id":"fetchUser"},async created(){await this.fetchUser()},methods:{...(0,J.i0)("global",["setLoading"]),async fetchUser(){const e=this.$route.params.id?this.$route.params.id:"profile";try{this.setLoading(!0);const t=await Cn.get(`/users/${e}`);this.user=t.data,this.editUser={first_name:this.user.first_name,middle_name:this.user.middle_name||"",last_name:this.user.last_name,phone:this.user.phone}}catch(t){console.error("Failed to fetch user details:",t),this.user=null}finally{this.setLoading(!1)}},triggerAvatarModal(){this.showAvatarModal=!0},triggerEditModal(){this.showEditModal=!0}}};const wn=(0,l.A)(yn,[["render",bn]]);var kn=wn;const Rn={class:"p-4"},Ln=(0,s.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Roles",-1),Sn={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},In=(0,s.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Name"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Created"),(0,s.Lk)("th",{class:"py-3 px-4 border-b"})])],-1),xn=["onClick"],Tn={class:"py-2 px-4 border-b text-left"},_n={class:"py-2 px-4 border-b text-left"},Dn={class:"py-2 px-4 border-b text-left"},On={class:"py-2 px-4 border-b text-center"},Fn=["onClick"],Qn=["onClick"];function Bn(e,t,o,r,n,i){const l=(0,s.g2)("font-awesome-icon"),c=(0,s.g2)("RoleCreationModal");return(0,s.uX)(),(0,s.CE)("div",Rn,[Ln,(0,s.Lk)("table",Sn,[In,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.roles,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,onClick:t=>i.viewRoleDetails(e.id),class:"cursor-pointer hover:bg-gray-100"},[(0,s.Lk)("td",Tn,(0,m.v_)(t+1),1),(0,s.Lk)("td",_n,(0,m.v_)(e.name),1),(0,s.Lk)("td",Dn,(0,m.v_)(i.formatDate(e.created_at)),1),(0,s.Lk)("td",On,[(0,s.Lk)("button",{onClick:(0,a.D$)((t=>i.editRole(e)),["stop"]),class:"text-blue-500 hover:text-blue-700 mr-4","aria-label":"Edit Role"},[(0,s.bF)(l,{icon:"pen"})],8,Fn),(0,s.Lk)("button",{onClick:(0,a.D$)((t=>i.confirmDelete(e)),["stop"]),class:"text-red-500 hover:text-red-700","aria-label":"Delete Role"},[(0,s.bF)(l,{icon:"trash"})],8,Qn)])],8,xn)))),128))])]),(0,s.bF)(c,{isVisible:n.showRoleModal,id:n.selectedRoleId,onClose:t[0]||(t[0]=e=>n.showRoleModal=!1)},null,8,["isVisible","id"])])}var Un={components:{RoleCreationModal:Do},data(){return{selectedRoleId:"",showRoleModal:!1}},computed:{...(0,J.L8)("role",["roles"]),baseUrl(){return"/"}},async mounted(){await this.fetchRoles()},methods:{...(0,J.i0)("role",["fetchRoles","deleteRole"]),formatDate(e){return new Date(e).toLocaleDateString()},editRole(e){this.selectedRoleId=e.id,this.showRoleModal=!0},confirmDelete(e){confirm(`Are you sure you want to delete role "${e.name}"?`)&&this.deleteRole(e.id)},viewRoleDetails(e){this.$router.push({name:"RoleDetail",params:{id:e}})}}};const Vn=(0,l.A)(Un,[["render",Bn]]);var Mn=Vn;const Pn={class:"p-6 flex flex-col"},Nn={key:0,class:"bg-white shadow rounded-lg p-6 mb-6"},$n={class:"text-3xl font-medium mb-4"},Xn={class:"flex space-x-4 mb-6"},Gn={key:1,class:"bg-white shadow rounded-lg p-6"},jn=(0,s.Lk)("h2",{class:"text-2xl font-bold mb-4"},"Permissions",-1),Jn={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},Wn=(0,s.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Action"),(0,s.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Entity"),(0,s.Lk)("th",{class:"py-3 px-4 border-b"})])],-1),Kn={class:"py-2 px-4 border-b text-left"},zn={class:"py-2 px-4 border-b text-left"},qn={class:"py-2 px-4 border-b text-left"},Hn={class:"py-2 px-4 border-b text-center"},Zn=["onClick"],Yn={key:2,class:"bg-white shadow rounded-lg p-6"},ei=(0,s.Lk)("p",{class:"font-medium"},"No permissions available for this role.",-1),ti=[ei];function oi(e,t,o,a,r,n){const i=(0,s.g2)("font-awesome-icon"),l=(0,s.g2)("RoleCreationModal"),c=(0,s.g2)("PermissionCreationModal");return(0,s.uX)(),(0,s.CE)("div",Pn,[e.activeRole?((0,s.uX)(),(0,s.CE)("div",Nn,[(0,s.Lk)("h1",$n,(0,m.v_)(e.activeRole.name),1),(0,s.Lk)("div",Xn,[(0,s.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[0]||(t[0]=(...e)=>n.editRole&&n.editRole(...e))},[(0,s.bF)(i,{icon:"edit",class:"mr-2"}),(0,s.eW)(" Edit Role ")]),(0,s.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=(...e)=>n.confirmDeleteRole&&n.confirmDeleteRole(...e))},[(0,s.bF)(i,{icon:"trash",class:"mr-2"}),(0,s.eW)(" Delete Role ")]),(0,s.Lk)("button",{class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=e=>r.showPermissionModal=!0)},[(0,s.bF)(i,{icon:"plus",class:"mr-2"}),(0,s.eW)(" Add Permission ")])])])):(0,s.Q3)("",!0),e.activeRole&&e.activeRole.permissions&&e.activeRole.permissions.length?((0,s.uX)(),(0,s.CE)("div",Gn,[jn,(0,s.Lk)("table",Jn,[Wn,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.activeRole.permissions,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",Kn,(0,m.v_)(t+1),1),(0,s.Lk)("td",zn,(0,m.v_)(e.action.name),1),(0,s.Lk)("td",qn,(0,m.v_)(e.entity.name),1),(0,s.Lk)("td",Hn,[(0,s.Lk)("button",{onClick:t=>n.confirmDeletePermission(e),class:"text-red-500 hover:text-red-700","aria-label":"Delete Permission"},[(0,s.bF)(i,{icon:"trash"})],8,Zn)])])))),128))])])])):(0,s.Q3)("",!0),e.activeRole&&e.activeRole.permissions&&!e.activeRole.permissions.length?((0,s.uX)(),(0,s.CE)("div",Yn,ti)):(0,s.Q3)("",!0),(0,s.bF)(l,{isVisible:r.showRoleModal,id:e.$route.params.id,onClose:n.handleCreationModalClose},null,8,["isVisible","id","onClose"]),(0,s.bF)(c,{role:e.activeRole||{},isVisible:r.showPermissionModal,onClose:n.handlePermissionModalClose},null,8,["role","isVisible","onClose"])])}const ai=e=>((0,s.Qi)("data-v-7252e426"),e=e(),(0,s.jt)(),e),si={class:"text-2xl font-bold mb-4"},ri={class:"mb-4"},ni=ai((()=>(0,s.Lk)("label",{for:"action",class:"block text-sm font-medium text-gray-700"},"Action",-1))),ii=["value"],li={class:"mb-4"},ci=ai((()=>(0,s.Lk)("label",{for:"entity",class:"block text-sm font-medium text-gray-700"},"Entity",-1))),di=["value"],ui={class:"flex space-x-4"};function mi(e,t,o,r,n,i){const l=(0,s.g2)("ModalLayout");return(0,s.uX)(),(0,s.Wv)(l,{isVisible:o.isVisible,onClose:i.handleClose},{header:(0,s.k6)((()=>[(0,s.Lk)("h2",si,"Create Permission for "+(0,m.v_)(e.activeRole?.name),1)])),body:(0,s.k6)((()=>[(0,s.Lk)("div",ri,[ni,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedAction=e),id:"action",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.actions,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,ii)))),128))],512),[[a.u1,n.selectedAction]])]),(0,s.Lk)("div",li,[ci,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedEntity=e),id:"entity",class:"mt-1 block w-full border-gray-500 rounded-md shadow-sm p-3"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.entities,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,di)))),128))],512),[[a.u1,n.selectedEntity]])])])),footer:(0,s.k6)((()=>[(0,s.Lk)("div",ui,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.submitPermission&&i.submitPermission(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg"}," Save "),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.handleClose&&i.handleClose(...e)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg"}," Cancel ")])])),_:1},8,["isVisible","onClose"])}var pi={computed:(0,J.L8)("role",["activeRole"]),components:{ModalLayout:Rt},props:{isVisible:{type:Boolean,required:!0}},data(){return{actions:[],entities:[],selectedAction:null,selectedEntity:null}},async mounted(){await this.fetchActions(),await this.fetchEntities()},methods:{...(0,J.i0)("permission",["createPermission"]),async fetchActions(){try{const e=await Cn.get("/actions");this.actions=e.data}catch(e){console.error("Failed to fetch actions:",e)}},async fetchEntities(){try{const e=await Cn.get("/entities");this.entities=e.data}catch(e){console.error("Failed to fetch entities:",e)}},async submitPermission(){const e={action_id:this.selectedAction,entity_id:this.selectedEntity,role_id:this.activeRole.id};await this.createPermission(e),this.$emit("close")},handleClose(){this.$emit("close")}}};const Ai=(0,l.A)(pi,[["render",mi],["__scopeId","data-v-7252e426"]]);var hi=Ai,gi={components:{RoleCreationModal:Do,PermissionCreationModal:hi},data(){return{showRoleModal:!1,showPermissionModal:!1}},computed:{...(0,J.L8)("role",["activeRole"])},methods:{...(0,J.i0)("role",["fetchRoleById","deleteRole"]),...(0,J.i0)("permission",["deletePermission"]),async confirmDeleteRole(){if(confirm("Are you sure you want to delete this role? This action cannot be undone."))try{await this.deleteRole(this.$route.params.id),this.$router.push({name:"Role"})}catch(e){console.error("Error deleting the role:",e)}},editRole(){this.showRoleModal=!0},editPermission(e){console.log(e)},async confirmDeletePermission(e){confirm(`Sure you want to delete the permission "${e.action.name}-${e.entity.name}"?`)&&(await this.deletePermission(e.id),this.fetchRoleById(this.$route.params.id))},handlePermissionModalClose(){this.showPermissionModal=!1,this.fetchRoleById(this.$route.params.id)},handleCreationModalClose(){this.showRoleModal=!1,this.fetchRoleById(this.$route.params.id)}},async mounted(){const e=this.$route.params.id;try{await this.fetchRoleById(e)}catch(t){console.error("Error fetching role by ID:",t)}},watch:{"$route.params.id":{immediate:!0,handler(e){this.fetchRoleById(e)}}}};const vi=(0,l.A)(gi,[["render",oi]]);var bi=vi;const fi=[{path:"/",redirect:{name:"Login"}},{path:"/login",name:"Login",component:z},{path:"/register",name:"Register",component:me},{path:"/request-password-reset",name:"RequestPasswordReset",component:Re},{path:"/reset-password",name:"ResetPassword",component:Ve},{path:"/dashboard",name:"Dashboard",component:Qo,children:[{path:"collections/:id",name:"Collection",component:va,props:!0},{path:"documents/:id",name:"Document",component:za,props:!0},{path:"events",name:"Event",component:Is},{path:"events/:id",name:"EventDetail",component:Br,props:!0},{path:"tags",name:"Tag",component:on},{path:"users/:id?",name:"UserDetail",component:kn,props:!0},{path:"roles",name:"Role",component:Mn},{path:"roles/:id?",name:"RoleDetail",component:bi,props:!0}]}],Ei=(0,u.aE)({history:(0,u.LA)("/"),routes:fi});Ei.beforeEach(((e,t,o)=>{const a=localStorage.getItem("token"),s=["Dashboard","Collection","Document","Role","Event","EventDetail","Tag","UserDetail","RoleDetail"];s.includes(e.name)&&!a?o({name:"Login"}):o()}));var Ci=Ei,yi=o(8950),wi=o(2353);yi.Yv.add(wi.MjD,wi.GRI,wi.ckx,wi.CeG,wi.yLS,wi.okg,wi.z$e,wi.X46,wi.gdJ,wi.v02,wi.Jyw,wi.QLR,wi.ao0,wi._JS,wi.E5r,wi.cbP,wi.t5Z,wi.MT7,wi.JmV,wi.U23,wi.EX0,wi.bMg,wi.hhY,wi.isQ,wi.Pcr,wi._2z,wi.enb,wi.hpd,wi.KKr,wi.y_8);const ki={activeCollection:null,activeDocument:null,rootId:null,collections:[],errors:{}},Ri={SET_ACTIVE_COLLECTION(e,t){e.activeCollection=t,console.log(e.activeCollection)},SET_ACTIVE_DOCUMENT(e,t){e.activeDocument=t},SET_ROOT_ID(e,t){e.rootId=t},SET_COLLECTIONS(e,t){e.collections=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Li={async fetchCollectionById({commit:e,dispatch:t},{collectionId:o,tag:a,search:s}){try{t("global/setLoading",!0,{root:!0}),console.log(o,a,s);const r=await Cn.get(`/collections/${o}?tag=${a}&search=${s}`);e("SET_ACTIVE_COLLECTION",r.data)}catch(r){console.error("Failed to fetch collection:",r)}finally{t("global/setLoading",!1,{root:!0})}},async fetchDocumentById({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Cn.get(`/documents/${o}`);e("SET_ACTIVE_DOCUMENT",a.data)}catch(a){console.error("Failed to fetch document:",a)}finally{t("global/setLoading",!1,{root:!0})}},async setActiveCollection({commit:e},t){e("SET_ACTIVE_COLLECTION",t)},async fetchRootCollection({dispatch:e},{tag:t,search:o}){try{e("global/setLoading",!0,{root:!0});const a=await Cn.get(`/collections/root?tag=${t}&search=${o}`),s=a.data;console.log(s),await e("setActiveCollection",s)}catch(a){console.error("Failed to fetch root collection:",a)}finally{e("global/setLoading",!1,{root:!0})}},async createCollection({commit:e,dispatch:t,state:o},a){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const s=o.activeCollection?o.activeCollection.id:null;await Cn.post("/collections",{...a,parent_id:s}),null===s?await t("fetchRootCollection",{tag:"",search:""}):await t("fetchCollectionById",{collectionId:s,tag:"",search:""})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to create collection. Please try again later."}),console.error("Failed to create collection:",s)}finally{t("global/setLoading",!1,{root:!0})}},async createDocument({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.activeCollection?t.activeCollection.id:null,r=new FormData;r.append("name",a.name),r.append("description",a.description),r.append("file",a.file),r.append("collection_id",s),a.tag_ids.forEach((e=>{r.append("tag_ids[]",e)}));const n=await Cn.post("/documents",r,{headers:{"Content-Type":"multipart/form-data"}});console.log(n.data),await o("fetchCollectionById",{collectionId:s,tag:"",search:""})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to create document. Please try again later."}),console.error("Failed to create document:",s)}finally{o("global/setLoading",!1,{root:!0})}},async uploadDocumentVersion({commit:e,state:t,dispatch:o},{file:a,description:s}){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.activeDocument.id,n=new FormData;n.append("file",a),n.append("description",s),await Cn.post(`/documents/${r}/versions`,n,{headers:{"Content-Type":"multipart/form-data"}}),await o("fetchDocumentById",r)}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to upload document version. Please try again later."}),console.error("Failed to upload document version:",r)}finally{o("global/setLoading",!1,{root:!0})}},async updateDocument({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const a=ki.activeCollection?ki.activeCollection.id:null,s={...o,collection_id:a};await Cn.post(`/documents/${o.id}/update`,s),await t("fetchDocumentById",o.id)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to update document. Please try again later."}),console.error("Failed to update document:",a)}finally{t("global/setLoading",!1,{root:!0})}},async deleteDocument({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/documents/${a}/delete`),t.activeCollection?await o("fetchCollectionById",{collectionId:t.activeCollection.id,tag:"",search:""}):await o("fetchRootCollection",{tag:"",search:""})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to delete document. Please try again later."}),console.error("Failed to delete document:",s)}finally{o("global/setLoading",!1,{root:!0})}},async fetchRootId({commit:e,dispatch:t}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const o=await Cn.get("/collections/rootId"),a=o.data;console.log("Root Id fetched",a),e("SET_ROOT_ID",a)}catch(o){console.error("Failed to fetch root id",o)}finally{t("global/setLoading",!1,{root:!0})}},setActiveDocument({commit:e},t){e("SET_ACTIVE_DOCUMENT",t)},setErrors({commit:e},t){e("SET_ERRORS",t)}},Si={activeDocument:e=>e.activeDocument,breadcrumbPath:e=>{let t=[],o=e.activeCollection;while(o)t.unshift(o),o=o.parent;return t},activeCollection:e=>e.activeCollection,rootId:e=>e.rootId,errors:e=>e.errors};var Ii={namespaced:!0,state:ki,mutations:Ri,actions:Li,getters:Si};const xi={events:[],activeEvent:null,errors:{}},Ti={SET_EVENTS(e,t){e.events=t},SET_ACTIVE_EVENT(e,t){e.activeEvent=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},_i={async fetchEvents({commit:e},{tag:t,search:o}){try{e("global/SET_LOADING",!0,{root:!0});const a=await Cn.get(`/events?tag=${t}&search=${o}`);e("SET_EVENTS",a.data)}catch(a){console.error("Failed to fetch events:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchEventById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.get(`/events/${t}`);e("SET_ACTIVE_EVENT",o.data)}catch(o){console.error("Failed to fetch event:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createEvent({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Cn.post("/events",o,{headers:{"Content-Type":"multipart/form-data"}}),s=a.data;return e("SET_EVENTS",[...t.events,s]),s}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to create event. Please try again later."}),console.error("Failed to create event:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateEvent({commit:e,dispatch:t},{id:o,formData:a}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/events/${o}/update`,a,{headers:{"Content-Type":"multipart/form-data"}}),await t("event/fetchEventById",o,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to update event. Please try again later."}),console.error("Failed to update event:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteEvent({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/events/${o}/delete`);const a=t.events.filter((e=>e.id!==o));e("SET_EVENTS",a)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to delete event. Please try again later."}),console.error("Failed to delete event:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async uploadEventFile({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Cn.post(`/events/${t.activeEvent.id}/files`,o,{headers:{"Content-Type":"multipart/form-data"}}),s=a.data.file;console.log(s);const r={...t.activeEvent,files:[...t.activeEvent.files,s]};return e("SET_ACTIVE_EVENT",r),s}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to upload file. Please try again later."}),console.error("Failed to upload file:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async removeEventFile({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/events/${t.activeEvent.id}/files/${o}/delete`);const a={...t.activeEvent,files:t.activeEvent.files.filter((e=>e.id!==o))};e("SET_ACTIVE_EVENT",a)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to remove file. Please try again later."}),console.error("Failed to remove file:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateEventPoster({commit:e,state:t},{eventId:o,formData:a}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=await Cn.post(`/events/${o}/poster`,a,{headers:{"Content-Type":"multipart/form-data"}}),r=s.data.poster,n={...t.activeEvent,poster:r};return e("SET_ACTIVE_EVENT",n),r}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to update poster. Please try again later."}),console.error("Failed to update poster:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},setActiveEvent({commit:e},t){e("SET_ACTIVE_EVENT",t)},setErrors({commit:e},t){e("SET_ERRORS",t)}},Di={events:e=>e.events,activeEvent:e=>e.activeEvent,errors:e=>e.errors};var Oi={namespaced:!0,state:xi,mutations:Ti,actions:_i,getters:Di};const Fi={eventOutcomes:[],errors:{}},Qi={SET_EVENT_OUTCOMES(e,t){e.eventOutcomes=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Bi={async createEventOutcome({commit:e,rootState:t,dispatch:o},a){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent,r={event_id:a?.eventId,description:a?.outcomeData?.description,date:a?.outcomeData?.date};await Cn.post(`/events/${s.id}/outcomes`,r),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to create event outcome. Please try again later."}),console.error("Failed to create event outcome:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateEventOutcome({commit:e,rootState:t,dispatch:o},a){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent,r={description:a?.outcomeData?.description,date:a?.outcomeData?.date};await Cn.post(`/events/${s.id}/outcomes/${a?.outcomeId}/update`,r),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to update event outcome. Please try again later."}),console.error("Failed to update event outcome:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteEventOutcome({commit:e,rootState:t,dispatch:o},a){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent,r=s.id;await Cn.post(`/events/${r}/outcomes/${a}/delete`),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to delete event outcome. Please try again later."}),console.error("Failed to delete event outcome:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async uploadOutcomeFile({commit:e,rootState:t,dispatch:o},{outcomeId:a,formData:s}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent;await Cn.post(`/events/${r.id}/outcomes/${a}/files`,s,{headers:{"Content-Type":"multipart/form-data"}}),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to upload file. Please try again later."}),console.error("Failed to upload file:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async removeOutcomeFile({commit:e,rootState:t,dispatch:o},{outcomeId:a,fileId:s}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent;await Cn.post(`/events/${r.id}/outcomes/${a}/files/${s}/delete`),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to remove file. Please try again later."}),console.error("Failed to remove file:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async uploadOutcomeImage({commit:e,rootState:t,dispatch:o},{outcomeId:a,formData:s}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent;await Cn.post(`/events/${r.id}/outcomes/${a}/images`,s,{headers:{"Content-Type":"multipart/form-data"}}),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to upload file. Please try again later."}),console.error("Failed to upload file:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async removeOutcomeImage({commit:e,rootState:t,dispatch:o},{outcomeId:a,imageId:s}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent;await Cn.post(`/events/${r.id}/outcomes/${a}/images/${s}/delete`),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to remove file. Please try again later."}),console.error("Failed to remove file:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Ui={eventOutcomes:e=>e.eventOutcomes,errors:e=>e.errors};var Vi={namespaced:!0,state:Fi,mutations:Qi,actions:Bi,getters:Ui};const Mi={tags:[],errors:{},activeTag:null},Pi={SET_TAGS(e,t){e.tags=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_ACTIVE_TAG(e,t){e.activeTag=t},CLEAR_ACTIVE_TAG(e){e.activeTag=null}},Ni={async fetchTags({commit:e},{name:t}){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.get(`/tags?name=${t}`);e("SET_TAGS",o.data)}catch(o){console.error("Failed to fetch tags:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchTagById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.get(`/tags/${t}`);e("SET_ACTIVE_TAG",o.data)}catch(o){console.error("Failed to fetch tag by ID:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createTag({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Cn.post("/tags",o);return await t("fetchTags",{name:""}),a.data}catch(a){const t=a.response?.data?.errors||{message:"Failed to create tag. Please try again later."};e("SET_ERRORS",t),console.error("Failed to create tag:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateTag({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/tags/${o.id}/update`,o),await t("fetchTags",{name:""})}catch(a){const t=a.response?.data?.errors||{message:"Failed to update tag. Please try again later."};e("SET_ERRORS",t),console.error("Failed to update tag:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteTag({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/tags/${o}/delete`),await t("fetchTags",{name:""})}catch(a){const t=a.response?.data?.errors||{message:"Failed to delete tag. Please try again later."};e("SET_ERRORS",t),console.error("Failed to delete tag:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},$i={tags:e=>e.tags,errors:e=>e.errors,activeTag:e=>e.activeTag};var Xi={namespaced:!0,state:Mi,mutations:Pi,actions:Ni,getters:$i};const Gi={loading:!1},ji={loading:e=>e.loading},Ji={SET_LOADING(e,t){e.loading=t}},Wi={setLoading({commit:e},t){e("SET_LOADING",t)}};var Ki={namespaced:!0,state:Gi,getters:ji,mutations:Ji,actions:Wi};const zi={roles:[],errors:{},activeRole:null},qi={SET_ROLES(e,t){e.roles=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_ACTIVE_ROLE(e,t){e.activeRole=t},CLEAR_ACTIVE_ROLE(e){e.activeRole=null}},Hi={async fetchRoles({commit:e}){try{e("global/SET_LOADING",!0,{root:!0});const t=await Cn.get("/roles");e("SET_ROLES",t.data)}catch(t){console.error("Failed to fetch roles:",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchRoleById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.get(`/roles/${t}`);e("SET_ACTIVE_ROLE",o.data)}catch(o){console.error("Failed to fetch role by ID:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createRole({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Cn.post("/roles",o);return await t("fetchRoles"),a.data}catch(a){const t=a.response?.data?.errors||{message:"Failed to create role. Please try again later."};e("SET_ERRORS",t),console.error("Failed to create role:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateRole({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/roles/${o.id}/update`,o),await t("fetchRoles")}catch(a){const t=a.response?.data?.errors||{message:"Failed to update role. Please try again later."};e("SET_ERRORS",t),console.error("Failed to update role:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteRole({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/roles/${o}/delete`),await t("fetchRoles")}catch(a){const t=a.response?.data?.errors||{message:"Failed to delete role. Please try again later."};e("SET_ERRORS",t),console.error("Failed to delete role:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Zi={roles:e=>e.roles,errors:e=>e.errors,activeRole:e=>e.activeRole};var Yi={namespaced:!0,state:zi,mutations:qi,actions:Hi,getters:Zi};const el={permissions:[],errors:{},activePermission:null},tl={SET_PERMISSIONS(e,t){e.permissions=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_ACTIVE_PERMISSION(e,t){e.activePermission=t},CLEAR_ACTIVE_PERMISSION(e){e.activePermission=null}},ol={async fetchPermissions({commit:e}){try{e("global/SET_LOADING",!0,{root:!0});const t=await Cn.get("/permissions");e("SET_PERMISSIONS",t.data)}catch(t){console.error("Failed to fetch permissions:",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchPermissionById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.get(`/permissions/${t}`);e("SET_ACTIVE_PERMISSION",o.data)}catch(o){console.error("Failed to fetch permission by ID:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createPermission({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Cn.post("/permissions",o);return await t("fetchPermissions"),a.data}catch(a){const t=a.response?.data?.errors||{message:"Failed to create permission. Please try again later."};e("SET_ERRORS",t),console.error("Failed to create permission:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updatePermission({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/permissions/${o.id}/update`,o),await t("fetchPermissions")}catch(a){const t=a.response?.data?.errors||{message:"Failed to update permission. Please try again later."};e("SET_ERRORS",t),console.error("Failed to update permission:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deletePermission({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Cn.post(`/permissions/${o}/delete`),await t("fetchPermissions")}catch(a){const t=a.response?.data?.errors||{message:"Failed to delete permission. Please try again later."};e("SET_ERRORS",t),console.error("Failed to delete permission:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},al={permissions:e=>e.permissions,errors:e=>e.errors,activePermission:e=>e.activePermission};var sl={namespaced:!0,state:el,mutations:tl,actions:ol,getters:al};const rl={users:[],errors:{},currentUser:null,token:""},nl={SET_USERS(e,t){e.users=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_CURRENT_USER(e,t){e.currentUser=t},SET_TOKEN(e,t){e.token=t}},il={async loginUser({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0}),await fn.A.get("/sanctum/csrf-cookie",{withCredentials:!0});const o=await Cn.post("/users/login",t),a=o.data.token,s=JSON.stringify(o.data.user);return localStorage.setItem("token",a),localStorage.setItem("user",s),e("SET_TOKEN",a),e("SET_CURRENT_USER",s),e("SET_ERRORS",{}),!0}catch(o){let t={};t=o.response&&401===o.response.status?{message:"Invalid credentials. Please check your email and password."}:o.response&&o.response.data.errors?o.response.data.errors:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async registerUser({commit:e},t){try{return e("global/SET_LOADING",!0,{root:!0}),await fn.A.get("/sanctum/csrf-cookie",{withCredentials:!0}),await Cn.post("/users/register",t,{headers:{"Content-Type":"multipart/form-data"}}),e("SET_ERRORS",{}),!0}catch(o){let t={};t=o.response&&401===o.response.status?{message:"Invalid data. Please check your input and try again."}:o.response&&o.response.data.errors?o.response.data.errors:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async logoutUser({commit:e}){try{return e("global/SET_LOADING",!0,{root:!0}),await Cn.post("/users/logout"),e("SET_CURRENT_USER",null),e("SET_TOKEN",""),localStorage.removeItem("token"),localStorage.removeItem("user"),e("SET_ERRORS",{}),!0}catch(t){let o={};o=t.response&&401===t.response.status?{message:"Unauthorized request. Please log in again."}:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async requestPasswordReset({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.post("/users/request-password-reset",{email:t});return e("SET_ERRORS",{}),console.log(o.data.message),o.data.message}catch(o){let t={};return t=o.response&&400===o.response.status?{message:o.response.data.message||"Invalid email address."}:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t),!1}finally{e("global/SET_LOADING",!1,{root:!0})}},async resetPassword({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Cn.post("/users/reset-password",t);return e("SET_ERRORS",{}),console.log(o.data.message),o.data.message}catch(o){let t={};return t=o.response&&400===o.response.status?{message:o.response.data.message||"Invalid email address."}:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t),!1}finally{e("global/SET_LOADING",!1,{root:!0})}}},ll={users:e=>e.users,errors:e=>e.errors,currentUser:e=>{if(!e.currentUser){const e=localStorage.getItem("user");return e?JSON.parse(e):null}return e.currentUser},token:e=>e.token?e.token:localStorage.getItem("token")||""};var cl={namespaced:!0,state:rl,mutations:nl,actions:il,getters:ll};const dl={},ul={},ml={async downloadDocument({commit:e},t){console.log(t);try{const o=await Cn({url:`/documents/${t}/download`,method:"GET",responseType:"blob"}),a=window.URL.createObjectURL(new Blob([o.data],{type:o.headers["content-type"]})),s=document.createElement("a");s.href=a;const r={"application/pdf":"pdf","image/jpeg":"jpg","image/png":"png","text/plain":"txt","application/zip":"zip","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx"},n=o.headers["content-type"],i=r[n]||"txt",l=`document.${i}`;s.setAttribute("download",l),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(a),e("SET_NOTHING","")}catch(o){console.error("Error downloading the document:",o)}},async downloadDocumentVersion({commit:e},{documentId:t,versionId:o}){try{const a=await Cn({url:`/documents/${t}/versions/${o}/download`,method:"GET",responseType:"blob"}),s=window.URL.createObjectURL(new Blob([a.data],{type:a.headers["content-type"]})),r=document.createElement("a");r.href=s;const n={"application/pdf":"pdf","image/jpeg":"jpg","image/png":"png","text/plain":"txt","application/zip":"zip","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx"},i=a.headers["content-type"],l=n[i]||"txt",c=`version-${o}.${l}`;r.setAttribute("download",c),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(s),e("SET_NOTHING","")}catch(a){console.error("Error downloading the document version:",a)}},async restoreDocumentVersion({commit:e},{documentId:t,versionId:o}){try{e("global/SET_LOADING",!0,{root:!0}),await Cn.post(`/documents/${t}/restore/${o}`),e("SET_NOTHING","")}catch(a){console.error("Error restoring the document version",a)}finally{e("global/SET_LOADING",!1,{root:!0})}}},pl={SET_NOTHING(e,t){console.log(t)}};var Al={namespaced:!0,state:dl,getters:ul,actions:ml,mutations:pl};const hl={breadcrumb:[]},gl={ADD_BREADCRUMB_ITEM(e,t){e.breadcrumb.push(t)},TRIM_BREADCRUMB(e,t){e.breadcrumb=e.breadcrumb.slice(0,t+1)},CLEAR_BREADCRUMB(e){e.breadcrumb=[]}},vl={addbBreadcrumItem({commit:e},t){e("ADD_BREADCRUMB_ITEM",t)},trimBreadcrumb({commit:e},t){e("TRIM_BREADCRUMB",t)},clearBreadcrumb({commit:e}){e("CLEAR_BREADCRUMB")}},bl={breadcrumb:e=>e.breadcrumb};var fl={namespaced:!0,state:hl,mutations:gl,actions:vl,getters:bl},El=(0,J.y$)({modules:{global:Ki,collection:Ii,event:Oi,eventOutcome:Vi,tag:Xi,role:Yi,permission:sl,user:cl,document:Al,breadcrumb:fl}});const Cl=(0,a.Ef)(d);Cl.component("font-awesome-icon",We.gc),Cl.use(El),Cl.use(Ci),Cl.mount("#app")},3432:function(e){e.exports="data:image/png;base64,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"},4851:function(e,t,o){e.exports=o.p+"img/default-file.a768fe2b.png"},5390:function(e,t,o){e.exports=o.p+"img/image.e60e5740.png"},2843:function(e,t,o){e.exports=o.p+"img/pdf.af28e85a.png"},1984:function(e,t,o){e.exports=o.p+"img/text.41bbe04a.png"}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,r){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,r,n=a[0],i=a[1],l=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var d=l(o)}for(t&&t(a);c<n.length;c++)r=n[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(1253)}));a=o.O(a)})();
//# sourceMappingURL=app.8f9a7607.js.map